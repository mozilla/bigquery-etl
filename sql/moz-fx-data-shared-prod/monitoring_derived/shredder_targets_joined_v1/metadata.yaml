friendly_name: Shredder Targets Joined
description: |-
  Daily list of shredder deletion targets comparing the configured targets with
  the lineage of found id tables in bigquery.
  Augmented version of monitoring_derived.shredder_targets_v1 with additional table metadata.
owners:
- bewu@mozilla.com
labels:
  incremental: true
  owner1: bewu
  schedule: daily
  dag: bqetl_shredder_monitoring
scheduling:
  dag_name: bqetl_shredder_monitoring
bigquery:
  time_partitioning:
    type: day
    field: run_date
    require_partition_filter: true
    expiration_days: null
  range_partitioning: null
  clustering: null
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:mozilla-confidential
references:
  query.sql:
  - moz-fx-data-shared-prod.monitoring_derived.bigquery_table_storage_v1
  - moz-fx-data-shared-prod.monitoring_derived.bigquery_tables_inventory_v1
  - moz-fx-data-shared-prod.monitoring_derived.jobs_by_organization_v1
  - moz-fx-data-shared-prod.monitoring_derived.shredder_targets_v1
require_column_descriptions: false
