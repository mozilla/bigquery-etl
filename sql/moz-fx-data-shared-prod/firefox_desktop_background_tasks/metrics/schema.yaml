fields:
- name: additional_properties
  type: STRING
  mode: NULLABLE
  description: A JSON string containing any payload properties not present in the
    schema
- name: client_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: android_sdk_version
    type: STRING
    mode: NULLABLE
    description: The optional Android specific SDK version of the software running
      on this hardware device.
  - name: app_build
    type: STRING
    mode: NULLABLE
    description: The build identifier generated by the CI system (e.g. "1234/A").
      For language bindings that provide automatic detection for this value, (e.g.
      Android/Kotlin), in the unlikely event that the build identifier can not be
      retrieved from the OS, it is set to "inaccessible". For other language bindings,
      if the value was not provided through configuration, this metric gets set to
      `Unknown`.
  - name: app_channel
    type: STRING
    mode: NULLABLE
    description: The channel the application is being distributed on.
  - name: app_display_version
    type: STRING
    mode: NULLABLE
    description: The user visible version string (e.g. "1.0.3").  In the unlikely
      event that the display version can not be retrieved, it is set to "inaccessible".
  - name: architecture
    type: STRING
    mode: NULLABLE
    description: The architecture of the device, (e.g. "arm", "x86").
  - name: build_date
    type: STRING
    mode: NULLABLE
    description: The date & time the application was built
  - name: client_id
    type: STRING
    mode: NULLABLE
    description: A UUID uniquely identifying the client.
  - name: device_manufacturer
    type: STRING
    mode: NULLABLE
    description: The manufacturer of the device the application is running on. Not
      set if the device manufacturer can't be determined (e.g. on Desktop).
  - name: device_model
    type: STRING
    mode: NULLABLE
    description: The model of the device the application is running on. On Android,
      this is Build.MODEL, the user-visible marketing name, like "Pixel 2 XL". Not
      set if the device model can't be determined (e.g. on Desktop).
  - name: first_run_date
    type: STRING
    mode: NULLABLE
    description: The date of the first run of the application.
  - name: locale
    type: STRING
    mode: NULLABLE
    description: The locale of the application during initialization (e.g. "es-ES").
      If the locale can't be determined on the system, the value is ["und"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),
      to indicate "undetermined".
  - name: os
    type: STRING
    mode: NULLABLE
    description: 'The name of the operating system. Possible values: Android, iOS,
      Linux, Darwin, Windows, FreeBSD, NetBSD, OpenBSD, Solaris, unknown'
  - name: os_version
    type: STRING
    mode: NULLABLE
    description: The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
  - name: telemetry_sdk_build
    type: STRING
    mode: NULLABLE
    description: The version of the Glean SDK
  - name: windows_build_number
    type: INTEGER
    mode: NULLABLE
    description: The optional Windows build number, reported by Windows (e.g. 22000)
      and not set for other platforms
  - name: session_count
    type: INTEGER
    mode: NULLABLE
    description: An optional running counter of the number of sessions for a client.
  - name: session_id
    type: STRING
    mode: NULLABLE
    description: An optional UUID uniquely identifying the client's current session.
  - name: attribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: campaign
      type: STRING
      mode: NULLABLE
      description: The attribution campaign (e.g. 'mozilla-org').
    - name: content
      type: STRING
      mode: NULLABLE
      description: The attribution content (e.g. 'firefoxview').
    - name: medium
      type: STRING
      mode: NULLABLE
      description: The attribution medium (e.g. 'organic' for a search engine).
    - name: source
      type: STRING
      mode: NULLABLE
      description: The attribution source (e.g. 'google-play').
    - name: term
      type: STRING
      mode: NULLABLE
      description: The attribution term (e.g. 'browser with developer tools for android').
    - name: ext
      type: JSON
      mode: NULLABLE
  - name: distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: name
      type: STRING
      mode: NULLABLE
      description: The distribution name (e.g. 'MozillaOnline').
    - name: ext
      type: JSON
      mode: NULLABLE
- name: document_id
  type: STRING
  mode: NULLABLE
  description: The document ID specified in the URI when the client sent this message
- name: events
  type: RECORD
  mode: REPEATED
  fields:
  - name: category
    type: STRING
    mode: NULLABLE
  - name: extra
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: STRING
      mode: NULLABLE
  - name: name
    type: STRING
    mode: NULLABLE
  - name: timestamp
    type: INTEGER
    mode: NULLABLE
- name: metadata
  type: RECORD
  mode: NULLABLE
  fields:
  - name: geo
    type: RECORD
    mode: NULLABLE
    fields:
    - name: city
      type: STRING
      mode: NULLABLE
    - name: country
      type: STRING
      mode: NULLABLE
      description: An ISO 3166-1 alpha-2 country code
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo database version used for this lookup
    - name: subdivision1
      type: STRING
      mode: NULLABLE
      description: First major country subdivision, typically a state, province, or
        county
    - name: subdivision2
      type: STRING
      mode: NULLABLE
      description: Second major country subdivision; not applicable for most countries
    description: Results of a geographic lookup based on the client's IP address
  - name: header
    type: RECORD
    mode: NULLABLE
    fields:
    - name: date
      type: STRING
      mode: NULLABLE
      description: Date HTTP header
    - name: dnt
      type: STRING
      mode: NULLABLE
      description: DNT (Do Not Track) HTTP header
    - name: x_debug_id
      type: STRING
      mode: NULLABLE
      description: X-Debug-Id HTTP header
    - name: x_foxsec_ip_reputation
      type: STRING
      mode: NULLABLE
      description: X-Foxsec-IP-Reputation header
    - name: x_lb_tags
      type: STRING
      mode: NULLABLE
      description: X-LB-Tags HTTP header
    - name: x_pingsender_version
      type: STRING
      mode: NULLABLE
      description: X-PingSender-Version HTTP header
    - name: x_source_tags
      type: STRING
      mode: NULLABLE
      description: X-Source-Tags HTTP header
    - name: x_telemetry_agent
      type: STRING
      mode: NULLABLE
      description: X-Telemetry-Agent HTTP header
    - name: parsed_date
      type: TIMESTAMP
      mode: NULLABLE
    - name: parsed_x_source_tags
      type: STRING
      mode: REPEATED
    - name: parsed_x_lb_tags
      type: RECORD
      mode: NULLABLE
      fields:
      - name: tls_version
        type: STRING
        mode: NULLABLE
      - name: tls_cipher_hex
        type: STRING
        mode: NULLABLE
    description: Headers included in the client's HTTP request
  - name: isp
    type: RECORD
    mode: NULLABLE
    fields:
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo ISP database version used for this lookup
    - name: name
      type: STRING
      mode: NULLABLE
      description: The name of the ISP associated with the client's IP address
    - name: organization
      type: STRING
      mode: NULLABLE
      description: The name of a specific business entity associated with the client's
        IP address when available; otherwise the ISP name
    description: Results of ISP lookup based on the client's IP address
  - name: user_agent
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser
      type: STRING
      mode: NULLABLE
    - name: os
      type: STRING
      mode: NULLABLE
    - name: version
      type: STRING
      mode: NULLABLE
    description: Parsed components of the client's user agent string
- name: metrics
  type: RECORD
  mode: NULLABLE
  fields:
  - name: boolean
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_preinit_tasks_timeout
      type: BOOLEAN
      mode: NULLABLE
      description: Set to true if the tasks that are queued prior to Glean initialization
        time out.
    - name: sslkeylogging_enabled
      type: BOOLEAN
      mode: NULLABLE
      description: 'Records whether TLS key logging has been enabled via the environment
        variable SSLKEYLOGFILE.

        '
    - name: browser_startup_abouthome_cache_shutdownwrite
      type: BOOLEAN
      mode: NULLABLE
      description: 'True if the about:home startup cache was written via the AsyncShutdown
        blocker. This metric was generated to correspond to the Legacy Telemetry scalar
        browser.startup.abouthome_cache_shutdownwrite.

        '
    - name: datasanitization_privacy_clear_on_shutdown_cache
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.cache
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_cache.

        '
    - name: datasanitization_privacy_clear_on_shutdown_cookies
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.cookies
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_cookies.

        '
    - name: datasanitization_privacy_clear_on_shutdown_downloads
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.downloads
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_downloads.

        '
    - name: datasanitization_privacy_clear_on_shutdown_formdata
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.formdata
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_formdata.

        '
    - name: datasanitization_privacy_clear_on_shutdown_history
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.history
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_history.

        '
    - name: datasanitization_privacy_clear_on_shutdown_offline_apps
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.offlineApps
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_offlineApps.

        '
    - name: datasanitization_privacy_clear_on_shutdown_open_windows
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.openWindows
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_openWindows.

        '
    - name: datasanitization_privacy_clear_on_shutdown_sessions
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.sessions
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_sessions.

        '
    - name: datasanitization_privacy_clear_on_shutdown_site_settings
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.clearOnShutdown.siteSettings
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_clearOnShutdown_siteSettings.

        '
    - name: datasanitization_privacy_sanitize_sanitize_on_shutdown
      type: BOOLEAN
      mode: NULLABLE
      description: 'A boolean reporting the value of the privacy.sanitize.sanitizeOnShutdown
        pref. This metric was generated to correspond to the Legacy Telemetry scalar
        datasanitization.privacy_sanitize_sanitizeOnShutdown.

        '
    - name: os_environment_is_kept_in_dock
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether this app was kept in macOS Dock on startup This metric
        was generated to correspond to the Legacy Telemetry scalar os.environment.is_kept_in_dock.

        '
    - name: os_environment_is_taskbar_pinned
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the non-Private Browsing version of this app was pinned
        to taskbar on startup This metric was generated to correspond to the Legacy
        Telemetry scalar os.environment.is_taskbar_pinned.

        '
    - name: os_environment_is_taskbar_pinned_private
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the Private Browsing version of this app was pinned to
        taskbar on startup This metric was generated to correspond to the Legacy Telemetry
        scalar os.environment.is_taskbar_pinned_private.

        '
    - name: startup_is_cold
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether or not this startup is the first startup since OS reboot
        (according to our best guess.) This metric was generated to correspond to
        the Legacy Telemetry scalar startup.is_cold.

        '
    - name: primary_password_enabled
      type: BOOLEAN
      mode: NULLABLE
      description: 'If a primary-password is enabled for this profile. Set soon after
        browser startup. Does not update if a primary password is added or removed
        after startup.

        '
    - name: browser_default_at_launch
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the shell service identified this app as the default browser.

        Checked once near startup.

        On Windows, this is operationalized as whether Firefox is the default

        HTTP protocol handler and the default HTML file handler.

        '
    - name: browser_startup_kiosk_mode
      type: BOOLEAN
      mode: NULLABLE
      description: 'True when the browser was started in kiosk mode.

        '
  - name: counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_io
      type: INTEGER
      mode: NULLABLE
      description: 'The number of times we encountered an IO error

        when writing a pending ping to disk.

        '
    - name: glean_error_preinit_tasks_overflow
      type: INTEGER
      mode: NULLABLE
      description: 'The number of tasks that overflowed the pre-initialization buffer.

        Only sent if the buffer ever overflows.


        In Version 0 this reported the total number of tasks enqueued.

        '
    - name: glean_time_invalid_timezone_offset
      type: INTEGER
      mode: NULLABLE
      description: 'Counts the number of times we encountered an invalid timezone
        offset

        when trying to get the current time.

        A timezone offset is invalid if it is outside [-24h, +24h].

        If invalid a UTC offset is used (+0h).

        '
    - name: glean_upload_deleted_pings_after_quota_hit
      type: INTEGER
      mode: NULLABLE
      description: 'The number of pings deleted after the quota

        for the size of the pending pings directory or number of files is hit.

        Since quota is only calculated for the pending pings directory,

        and deletion request ping live in a different directory,

        deletion request pings are never deleted.

        '
    - name: glean_upload_pending_pings
      type: INTEGER
      mode: NULLABLE
      description: 'The total number of pending pings at startup.

        This does not include deletion-request pings.

        '
    - name: glean_validation_foreground_count
      type: INTEGER
      mode: NULLABLE
      description: 'On mobile, the number of times the application went to foreground.

        '
    - name: glean_upload_in_flight_pings_dropped
      type: INTEGER
      mode: NULLABLE
      description: 'How many pings were dropped because we found them already in-flight.

        '
    - name: glean_upload_missing_send_ids
      type: INTEGER
      mode: NULLABLE
      description: 'How many ping upload responses did we not record as a success
        or failure

        (in `glean.upload.send_success` or `glean.upload.send_failue`,

        respectively) due to an inconsistency in our internal bookkeeping?

        '
    - name: crash_submission_failure
      type: INTEGER
      mode: NULLABLE
      description: 'Number of failed crash report submissions

        '
    - name: crash_submission_pending
      type: INTEGER
      mode: NULLABLE
      description: 'Number of pending crash report submissions

        '
    - name: crash_submission_success
      type: INTEGER
      mode: NULLABLE
      description: 'Number of successfull crash report submissions

        '
  - name: datetime
    type: RECORD
    mode: NULLABLE
    fields:
    - name: background_update_time_last_update_scheduled
      type: TIMESTAMP
      mode: NULLABLE
      description: 'Last time the background update was triggered.

        '
    - name: raw_background_update_time_last_update_scheduled
      type: STRING
      mode: NULLABLE
    - name: glean_validation_first_run_hour
      type: TIMESTAMP
      mode: NULLABLE
      description: 'The hour of the first run of the application.

        '
    - name: raw_glean_validation_first_run_hour
      type: STRING
      mode: NULLABLE
  - name: labeled_counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_invalid_label
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set with an invalid label.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_overflow
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set a value that overflowed.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_state
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a timing metric was used incorrectly.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_value
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set to an invalid value.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_upload_ping_upload_failure
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of ping upload failures, by type of failure.

        This includes failures for all ping types,

        though the counts appear in the next successfully sent `metrics` ping.

        '
    - name: glean_validation_pings_submitted
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: "A count of the built-in pings submitted, by ping type.\n\nThis\
        \ metric appears in both the metrics and baseline pings.\n\n- On the metrics\
        \ ping, the counts include the number of pings sent since\n  the last metrics\
        \ ping (including the last metrics ping)\n- On the baseline ping, the counts\
        \ include the number of pings send since\n  the last baseline ping (including\
        \ the last baseline ping)\n\nNote: Previously this also recorded the number\
        \ of submitted custom pings.\nNow it only records counts for the Glean built-in\
        \ pings.\n"
    - name: crash_submission_collector_errors
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Amount and error name reported when performing crash submission.

        '
    - name: crash_submission_channel_status
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Collecting XHR channel status on error code when statusCode ==
        0.

        '
    - name: os_environment_invoked_to_handle
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Records counts for when Firefox was invoked (i.e., was already
        running and was not launched) to handle a file type or protocol with `-osint
        -url ...`.  The result is split into keys which represent the file extension:
        currently, the set of file types Firefox registers to handle, namely ".avif",
        ".htm", ".html", ".pdf", ".shtml", ".xht", ".xhtml", ".svg", ".webp", and
        the set of protocol schemes that Firefox registers to handle, namely "about",
        "http", "https", "mailto".  If Firefox was invoked to handle a file type or
        protocol it does not register to handle by default, the count is recorded
        as ".<other extension>" or "<other protocol>", respectively (neither of which
        are valid extension or protocol identifiers). This metric was generated to
        correspond to the Legacy Telemetry scalar os.environment.invoked_to_handle.

        '
    - name: os_environment_launched_to_handle
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Records counts for when Firefox was launched afresh (i.e., was
        not already running) to handle a file type or protocol with `-osint -url ...`.  The
        result is split into keys which represent the file extension: currently, the
        set of file types Firefox registers to handle, namely ".avif", ".htm", ".html",
        ".pdf", ".shtml", ".xht", ".xhtml", ".svg", ".webp", and the set of protocol
        schemes that Firefox registers to handle, namely "about", "http", "https",
        "mailto".  If Firefox was launched to handle a file type or protocol it does
        not register to handle by default, the count is recorded as ".<other extension>"
        or "<other protocol>", respectively (neither of which are valid extension
        or protocol identifiers). This metric was generated to correspond to the Legacy
        Telemetry scalar os.environment.launched_to_handle.

        '
    - name: browser_attribution_errors
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Count for the number of errors encountered trying to determine
        attribution data: on Windows, from the installers (stub and full); on macOS,
        from an extended attributed on the .app bundle.

        This metric was generated to correspond to the Legacy Telemetry categorical
        histogram BROWSER_ATTRIBUTION_ERRORS.

        '
    - name: browser_is_user_default
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Whether Firefox is the system default browser on startup. A true
        value is also recorded here, and a false value is recorded to set_default_error,
        if a user clicked ''Use Firefox as my default browser'' on an in-product prompt.
        (Note that on Windows 8+ the latter action opens the right settings dialog
        but does not actually change the default browser without further user action.)
        On Windows, ''system default browser'' is operationalized as whether Firefox
        is the default HTTP protocol handler.

        This metric was generated to correspond to the Legacy Telemetry boolean histogram
        BROWSER_IS_USER_DEFAULT.

        '
    - name: browser_is_user_default_error
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'True if the browser was unable to determine if the browser was
        set as default.

        This metric was generated to correspond to the Legacy Telemetry boolean histogram
        BROWSER_IS_USER_DEFAULT_ERROR.

        '
    - name: browser_set_default_always_check
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'True if the profile has `browser.shell.checkDefaultBrowser` set
        to true.

        This metric was generated to correspond to the Legacy Telemetry boolean histogram
        BROWSER_SET_DEFAULT_ALWAYS_CHECK.

        '
    - name: browser_set_default_error
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'True if the browser was unable to set Firefox as the default browser

        This metric was generated to correspond to the Legacy Telemetry boolean histogram
        BROWSER_SET_DEFAULT_ERROR.

        '
    - name: browser_set_default_pdf_handler_user_choice_result
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Result of each attempt to set the default browser with SetDefaultExtensionHandlersUserChoice()
        for pdf extension

        This metric was generated to correspond to the Legacy Telemetry categorical
        histogram BROWSER_SET_DEFAULT_PDF_HANDLER_USER_CHOICE_RESULT.

        '
    - name: browser_set_default_user_choice_result
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Result of each attempt to set the default browser with SetDefaultBrowserUserChoice()

        This metric was generated to correspond to the Legacy Telemetry categorical
        histogram BROWSER_SET_DEFAULT_USER_CHOICE_RESULT.

        '
    - name: crash_submit_attempt
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'An attempt to submit a crash. Keyed on the CrashManager Crash.type.

        This metric was generated to correspond to the Legacy Telemetry count histogram
        PROCESS_CRASH_SUBMIT_ATTEMPT.

        '
  - name: memory_distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_database_size
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The size of the database file at startup.

        '
    - name: glean_upload_discarded_exceeding_pings_size
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The size of pings that exceeded the maximum ping size allowed
        for upload.

        '
    - name: glean_upload_pending_pings_directory_size
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The size of the pending pings directory upon initialization of
        Glean.

        This does not include the size of the deletion request pings directory.

        '
    - name: crash_compressed_store_size
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Size (in bytes) of the compressed crash store JSON file.

        This metric was generated to correspond to the Legacy Telemetry exponential
        histogram CRASH_STORE_COMPRESSED_BYTES.

        '
  - name: string
    type: RECORD
    mode: NULLABLE
    fields:
    - name: ping_reason
      type: STRING
      mode: NULLABLE
      description: 'The optional reason the ping was submitted.

        The specific values for reason are specific to each ping, and are

        documented in the ping''s pings.yaml file.

        '
    - name: glean_client_annotation_experimentation_id
      type: STRING
      mode: NULLABLE
      description: 'An experimentation identifier derived and provided by the application

        for the purpose of experimentation enrollment.

        '
    - name: glean_database_rkv_load_error
      type: STRING
      mode: NULLABLE
      description: 'If there was an error loading the RKV database, record it.

        '
    - name: os_environment_launch_method
      type: STRING
      mode: NULLABLE
      description: 'Records how Firefox was started on Windows. Currently will be
        one of "Desktop", "DesktopPrivate", "StartMenu" (including pins), "StartMenuPrivate",
        "Taskbar", "TaskbarPrivate", "OtherShortcut", or "Other" This metric was generated
        to correspond to the Legacy Telemetry scalar os.environment.launch_method.

        '
  - name: timing_distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_upload_send_failure
      type: RECORD
      mode: NULLABLE
      fields:
      - name: bucket_count
        type: INTEGER
        mode: NULLABLE
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: histogram_type
        type: STRING
        mode: NULLABLE
      - name: overflow
        type: INTEGER
        mode: NULLABLE
      - name: range
        type: FLOAT
        mode: REPEATED
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: underflow
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Time needed for a failed send of a ping to the servers and getting
        a reply back.

        '
    - name: glean_upload_send_success
      type: RECORD
      mode: NULLABLE
      fields:
      - name: bucket_count
        type: INTEGER
        mode: NULLABLE
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: histogram_type
        type: STRING
        mode: NULLABLE
      - name: overflow
        type: INTEGER
        mode: NULLABLE
      - name: range
        type: FLOAT
        mode: REPEATED
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: underflow
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Time needed for a successful send of a ping to the servers and
        getting a reply back

        '
    - name: glean_validation_shutdown_wait
      type: RECORD
      mode: NULLABLE
      fields:
      - name: bucket_count
        type: INTEGER
        mode: NULLABLE
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: histogram_type
        type: STRING
        mode: NULLABLE
      - name: overflow
        type: INTEGER
        mode: NULLABLE
      - name: range
        type: FLOAT
        mode: REPEATED
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: underflow
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Time waited for the uploader at shutdown.

        '
    - name: glean_validation_shutdown_dispatcher_wait
      type: RECORD
      mode: NULLABLE
      fields:
      - name: bucket_count
        type: INTEGER
        mode: NULLABLE
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: histogram_type
        type: STRING
        mode: NULLABLE
      - name: overflow
        type: INTEGER
        mode: NULLABLE
      - name: range
        type: FLOAT
        mode: REPEATED
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: underflow
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Time waited for the dispatcher to unblock during shutdown.

        Most samples are expected to be below the 10s timeout used.

        '
    - name: glean_database_write_time
      type: RECORD
      mode: NULLABLE
      fields:
      - name: bucket_count
        type: INTEGER
        mode: NULLABLE
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: histogram_type
        type: STRING
        mode: NULLABLE
      - name: overflow
        type: INTEGER
        mode: NULLABLE
      - name: range
        type: FLOAT
        mode: REPEATED
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: underflow
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The time it takes for a write-commit for the Glean database.

        '
  - name: string_list
    type: RECORD
    mode: NULLABLE
    fields:
    - name: background_update_reasons_to_not_update
      type: STRING
      mode: REPEATED
    - name: glean_ping_uploader_capabilities
      type: STRING
      mode: REPEATED
  - name: quantity
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser_startup_abouthome_cache_result
      type: INTEGER
      mode: NULLABLE
      description: 'How the about:home startup cache functioned on startup.

        0: Result value was never set (error case) 1: Cache did not exist 2: Cache
        page stream was corrupt / inaccessible 3: Cache script stream was corrupt
        / inaccessible 4: Cache was invalidated by a version bump 5: Cache was valid,
        but read too late to be useful. 6: Cache was valid and used. 7: Cache is disabled.
        8: User did not load about:home on its own by default. 9: Cache is disabled
        because about:newtab preloading is disabled.

        This metric was generated to correspond to the Legacy Telemetry scalar browser.startup.abouthome_cache_result.

        '
    - name: datasanitization_session_permission_exceptions
      type: INTEGER
      mode: NULLABLE
      description: 'A count of how many "session" cookie exceptions a user has set.
        This metric was generated to correspond to the Legacy Telemetry scalar datasanitization.session_permission_exceptions.

        '
    - name: startup_seconds_since_last_os_restart
      type: INTEGER
      mode: NULLABLE
      description: 'The time in seconds between the first browser window loading,
        and the time the OS started. This can give us an indication of whether starting
        the browser may have been the first thing the user did after starting their
        computer. This metric was generated to correspond to the Legacy Telemetry
        scalar startup.seconds_since_last_os_restart.

        '
    - name: security_global_privacy_control_enabled
      type: INTEGER
      mode: NULLABLE
      description: 'Measures user retention of the Global Privacy Control. 0 = never
        enabled, 1 = enabled, 2 = disabled (but was enabled) This metric was generated
        to correspond to the Legacy Telemetry scalar security.global_privacy_control_enabled.

        '
    - name: security_https_only_mode_enabled
      type: INTEGER
      mode: NULLABLE
      description: 'Measures user retention of the HTTPS-Only Mode. 0 = never enabled,
        1 = enabled, 2 = disabled (but was enabled) This metric was generated to correspond
        to the Legacy Telemetry scalar security.https_only_mode_enabled.

        '
    - name: security_https_only_mode_enabled_pbm
      type: INTEGER
      mode: NULLABLE
      description: 'Measures user retention of the HTTPS-Only Mode in Private Browsing.
        0 = https-only never enabled in PBM, 1 = https-only enabled in PBM, 2 = https-only
        disabled in PBM (but was enabled) This metric was generated to correspond
        to the Legacy Telemetry scalar security.https_only_mode_enabled_pbm.

        '
  - name: labeled_boolean
    type: RECORD
    mode: NULLABLE
    fields:
    - name: os_environment_is_default_handler
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: BOOLEAN
        mode: NULLABLE
      description: 'Records whether Firefox was the default handler for particular
        file types or protocols.  The result is split into keys which represent the
        file extension or scheme: currently, a subset of the file types Firefox registers
        to handle, namely ".pdf" and "mailto" as protocol. In the future, more file
        types may be recorded. This metric was generated to correspond to the Legacy
        Telemetry scalar os.environment.is_default_handler.

        '
  - name: custom_distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser_set_default_dialog_prompt_rawcount
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The number of times that a profile has seen the ''Set Default
        Browser'' dialog.

        This metric was generated to correspond to the Legacy Telemetry exponential
        histogram BROWSER_SET_DEFAULT_DIALOG_PROMPT_RAWCOUNT.

        '
    - name: browser_set_default_result
      type: RECORD
      mode: NULLABLE
      fields:
      - name: count
        type: INTEGER
        mode: NULLABLE
        description: This was accidentally sent in the past and is now deprecated.
          See https://bugzilla.mozilla.org/show_bug.cgi?id=1799509#c5
      - name: sum
        type: INTEGER
        mode: NULLABLE
      - name: values
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'Result of the Set Default Browser dialog. After Firefox 89 the
        these values are: (0=Use Firefox + ''Don''t ask again'' checked, 1=Use Firefox
        + ''Don''t ask again'' unchecked, 2=Not Now + ''Don''t ask again'' checked,
        3=Not Now + ''Don''t ask again'' unchecked). Before Firefox 89 these values
        were: (0=Use Firefox + ''Always perform check'' unchecked, 1=Use Firefox +
        ''Always perform check'' checked, 2=Not Now + ''Always perform check'' unchecked,
        3=Not Now + ''Always perform check'' checked).

        This metric was generated to correspond to the Legacy Telemetry enumerated
        histogram BROWSER_SET_DEFAULT_RESULT.

        '
  - name: dual_labeled_counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_submit_success
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: RECORD
        mode: REPEATED
        fields:
        - name: key
          type: STRING
          mode: NULLABLE
        - name: value
          type: INTEGER
          mode: NULLABLE
      description: 'The submission status when main/plugin/content crashes are submitted.
        1 is success, 0 is failure. Keyed on the CrashManager Crash.type.

        This metric was generated to correspond to the Legacy Telemetry boolean histogram
        PROCESS_CRASH_SUBMIT_SUCCESS.

        '
  - name: object
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_health_data_directory_info
      type: JSON
      mode: NULLABLE
      description: "Information about the data directories and files used by FOG.\n\
        \nStructure is an array of objects, each containing the following properties:\n\
        - `dir_name`: The name of the directory. This is the subdirectory name relative\
        \ to the\n  FOG data directory and should only include \"db\", \"events\"\
        , and \"pending_pings\".\n- `dir_exists`: Whether the directory exists. This\
        \ should only be false on the first\n  run of FOG, or if the directory was\
        \ deleted.\n- `dir_created`: The creation time of the directory, in seconds\
        \ since the unix epoch. If\n  the directory does not exist, this will be `null`\
        \ and if the time cannot be determined,\n  it will default to `0`.\n- `dir_modified`:\
        \ The last modification time of the directory, in seconds since the unix\n\
        \  epoch. If the directory does not exist, this will be `null` and if the\
        \ time cannot be\n  determined, it will default to `0`.\n- `file_count`: The\
        \ number of files in the directory. If the directory does not exist,\n  this\
        \ will be `0`.\n- `error_message`: If there was an error accessing the di"
- name: normalized_app_name
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized app name
- name: normalized_channel
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized channel name
- name: normalized_country_code
  type: STRING
  mode: NULLABLE
  description: An ISO 3166-1 alpha-2 country code
- name: normalized_os
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized OS name
- name: normalized_os_version
  type: STRING
  mode: NULLABLE
- name: ping_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: end_time
    type: STRING
    mode: NULLABLE
  - name: experiments
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: RECORD
      mode: NULLABLE
      fields:
      - name: branch
        type: STRING
        mode: NULLABLE
      - name: extra
        type: RECORD
        mode: NULLABLE
        fields:
        - name: type
          type: STRING
          mode: NULLABLE
        - name: enrollment_id
          type: STRING
          mode: NULLABLE
  - name: ping_type
    type: STRING
    mode: NULLABLE
  - name: reason
    type: STRING
    mode: NULLABLE
  - name: seq
    type: INTEGER
    mode: NULLABLE
  - name: start_time
    type: STRING
    mode: NULLABLE
  - name: parsed_start_time
    type: TIMESTAMP
    mode: NULLABLE
  - name: parsed_end_time
    type: TIMESTAMP
    mode: NULLABLE
- name: sample_id
  type: INTEGER
  mode: NULLABLE
  description: Hashed version of client_id (if present) useful for partitioning; ranges
    from 0 to 99
- name: submission_timestamp
  type: TIMESTAMP
  mode: NULLABLE
  description: Time when the ingestion edge server accepted this message
- name: app_version_major
  type: NUMERIC
  mode: NULLABLE
- name: app_version_minor
  type: NUMERIC
  mode: NULLABLE
- name: app_version_patch
  type: NUMERIC
  mode: NULLABLE
- name: is_bot_generated
  type: BOOLEAN
  mode: NULLABLE
