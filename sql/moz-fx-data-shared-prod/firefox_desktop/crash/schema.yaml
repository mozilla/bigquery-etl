fields:
- name: additional_properties
  type: STRING
  mode: NULLABLE
  description: A JSON string containing any payload properties not present in the
    schema
- name: client_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: android_sdk_version
    type: STRING
    mode: NULLABLE
    description: The optional Android specific SDK version of the software running
      on this hardware device.
  - name: app_build
    type: STRING
    mode: NULLABLE
    description: The build identifier generated by the CI system (e.g. "1234/A").
      For language bindings that provide automatic detection for this value, (e.g.
      Android/Kotlin), in the unlikely event that the build identifier can not be
      retrieved from the OS, it is set to "inaccessible". For other language bindings,
      if the value was not provided through configuration, this metric gets set to
      `Unknown`.
  - name: app_channel
    type: STRING
    mode: NULLABLE
    description: The channel the application is being distributed on.
  - name: app_display_version
    type: STRING
    mode: NULLABLE
    description: The user visible version string (e.g. "1.0.3").  In the unlikely
      event that the display version can not be retrieved, it is set to "inaccessible".
  - name: architecture
    type: STRING
    mode: NULLABLE
    description: The architecture of the device, (e.g. "arm", "x86").
  - name: build_date
    type: STRING
    mode: NULLABLE
    description: The date & time the application was built
  - name: client_id
    type: STRING
    mode: NULLABLE
    description: A UUID uniquely identifying the client.
  - name: device_manufacturer
    type: STRING
    mode: NULLABLE
    description: The manufacturer of the device the application is running on. Not
      set if the device manufacturer can't be determined (e.g. on Desktop).
  - name: device_model
    type: STRING
    mode: NULLABLE
    description: The model of the device the application is running on. On Android,
      this is Build.MODEL, the user-visible marketing name, like "Pixel 2 XL". Not
      set if the device model can't be determined (e.g. on Desktop).
  - name: first_run_date
    type: STRING
    mode: NULLABLE
    description: The date of the first run of the application.
  - name: locale
    type: STRING
    mode: NULLABLE
    description: The locale of the application during initialization (e.g. "es-ES").
      If the locale can't be determined on the system, the value is ["und"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),
      to indicate "undetermined".
  - name: os
    type: STRING
    mode: NULLABLE
    description: 'The name of the operating system. Possible values: Android, iOS,
      Linux, Darwin, Windows, FreeBSD, NetBSD, OpenBSD, Solaris, unknown'
  - name: os_version
    type: STRING
    mode: NULLABLE
    description: The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
  - name: telemetry_sdk_build
    type: STRING
    mode: NULLABLE
    description: The version of the Glean SDK
  - name: windows_build_number
    type: INTEGER
    mode: NULLABLE
    description: The optional Windows build number, reported by Windows (e.g. 22000)
      and not set for other platforms
  - name: session_count
    type: INTEGER
    mode: NULLABLE
    description: An optional running counter of the number of sessions for a client.
  - name: session_id
    type: STRING
    mode: NULLABLE
    description: An optional UUID uniquely identifying the client's current session.
  - name: attribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: campaign
      type: STRING
      mode: NULLABLE
      description: The attribution campaign (e.g. 'mozilla-org').
    - name: content
      type: STRING
      mode: NULLABLE
      description: The attribution content (e.g. 'firefoxview').
    - name: medium
      type: STRING
      mode: NULLABLE
      description: The attribution medium (e.g. 'organic' for a search engine).
    - name: source
      type: STRING
      mode: NULLABLE
      description: The attribution source (e.g. 'google-play').
    - name: term
      type: STRING
      mode: NULLABLE
      description: The attribution term (e.g. 'browser with developer tools for android').
    - name: ext
      type: JSON
      mode: NULLABLE
  - name: distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: name
      type: STRING
      mode: NULLABLE
      description: The distribution name (e.g. 'MozillaOnline').
    - name: ext
      type: JSON
      mode: NULLABLE
- name: document_id
  type: STRING
  mode: NULLABLE
  description: The document ID specified in the URI when the client sent this message
- name: events
  type: RECORD
  mode: REPEATED
  fields:
  - name: category
    type: STRING
    mode: NULLABLE
  - name: extra
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: STRING
      mode: NULLABLE
  - name: name
    type: STRING
    mode: NULLABLE
  - name: timestamp
    type: INTEGER
    mode: NULLABLE
- name: metadata
  type: RECORD
  mode: NULLABLE
  fields:
  - name: geo
    type: RECORD
    mode: NULLABLE
    fields:
    - name: city
      type: STRING
      mode: NULLABLE
    - name: country
      type: STRING
      mode: NULLABLE
      description: An ISO 3166-1 alpha-2 country code
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo database version used for this lookup
    - name: subdivision1
      type: STRING
      mode: NULLABLE
      description: First major country subdivision, typically a state, province, or
        county
    - name: subdivision2
      type: STRING
      mode: NULLABLE
      description: Second major country subdivision; not applicable for most countries
    description: Results of a geographic lookup based on the client's IP address
  - name: header
    type: RECORD
    mode: NULLABLE
    fields:
    - name: date
      type: STRING
      mode: NULLABLE
      description: Date HTTP header
    - name: dnt
      type: STRING
      mode: NULLABLE
      description: DNT (Do Not Track) HTTP header
    - name: x_debug_id
      type: STRING
      mode: NULLABLE
      description: X-Debug-Id HTTP header
    - name: x_foxsec_ip_reputation
      type: STRING
      mode: NULLABLE
      description: X-Foxsec-IP-Reputation header
    - name: x_lb_tags
      type: STRING
      mode: NULLABLE
      description: X-LB-Tags HTTP header
    - name: x_pingsender_version
      type: STRING
      mode: NULLABLE
      description: X-PingSender-Version HTTP header
    - name: x_source_tags
      type: STRING
      mode: NULLABLE
      description: X-Source-Tags HTTP header
    - name: x_telemetry_agent
      type: STRING
      mode: NULLABLE
      description: X-Telemetry-Agent HTTP header
    - name: parsed_date
      type: TIMESTAMP
      mode: NULLABLE
    - name: parsed_x_source_tags
      type: STRING
      mode: REPEATED
    - name: parsed_x_lb_tags
      type: RECORD
      mode: NULLABLE
      fields:
      - name: tls_version
        type: STRING
        mode: NULLABLE
      - name: tls_cipher_hex
        type: STRING
        mode: NULLABLE
    description: Headers included in the client's HTTP request
  - name: isp
    type: RECORD
    mode: NULLABLE
    fields:
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo ISP database version used for this lookup
    - name: name
      type: STRING
      mode: NULLABLE
      description: The name of the ISP associated with the client's IP address
    - name: organization
      type: STRING
      mode: NULLABLE
      description: The name of a specific business entity associated with the client's
        IP address when available; otherwise the ISP name
    description: Results of ISP lookup based on the client's IP address
  - name: user_agent
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser
      type: STRING
      mode: NULLABLE
    - name: os
      type: STRING
      mode: NULLABLE
    - name: version
      type: STRING
      mode: NULLABLE
    description: Parsed components of the client's user agent string
- name: metrics
  type: RECORD
  mode: NULLABLE
  fields:
  - name: labeled_counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_invalid_label
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set with an invalid label.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_overflow
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set a value that overflowed.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_state
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a timing metric was used incorrectly.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_value
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set to an invalid value.

        The labels are the `category.name` identifier of the metric.

        '
  - name: boolean
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_startup
      type: BOOLEAN
      mode: NULLABLE
      description: 'If true, the crash occurred during process startup.

        '
    - name: crash_is_garbage_collecting
      type: BOOLEAN
      mode: NULLABLE
      description: 'Indicates that the crash occurred while the garbage collector
        was running.

        '
    - name: crash_windows_error_reporting
      type: BOOLEAN
      mode: NULLABLE
      description: 'Indicates if the crash was intercepted by the Windows Error Reporting
        runtime exception module.

        '
    - name: dll_blocklist_init_failed
      type: BOOLEAN
      mode: NULLABLE
      description: 'Indicates whether initialization of the DLL blocklist failed.

        '
    - name: dll_blocklist_user32_loaded_before
      type: BOOLEAN
      mode: NULLABLE
      description: 'Indicates whether `user32.dll` was loaded before the DLL blocklist
        was initialized.

        '
    - name: environment_headless_mode
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the app was invoked in headless mode via `--headless`
        or `--backgroundtask`.

        '
  - name: datetime
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_time
      type: TIMESTAMP
      mode: NULLABLE
      description: 'The time at which the crash occurred.

        '
    - name: raw_crash_time
      type: STRING
      mode: NULLABLE
  - name: string
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_process_type
      type: STRING
      mode: NULLABLE
      description: 'The type of process that experienced a crash. See the full list
        of options [here](https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/data/crash-ping.html#process-types).

        '
    - name: glean_client_annotation_experimentation_id
      type: STRING
      mode: NULLABLE
      description: 'An experimentation identifier derived and provided by the application

        for the purpose of experimentation enrollment.

        '
    - name: crash_app_build
      type: STRING
      mode: NULLABLE
      description: 'The build id of the application. This may differ from `client_info`
        because a main process crash may be reported later by a different (e.g. updated)
        client.

        '
    - name: crash_app_channel
      type: STRING
      mode: NULLABLE
      description: 'The release channel of the application. This may differ from `client_info`
        because a main process crash may be reported later by a different (e.g. updated)
        client.

        '
    - name: crash_app_display_version
      type: STRING
      mode: NULLABLE
      description: 'The version of the application. This may differ from `client_info`
        because a main process crash may be reported later by a different (e.g. updated)
        client.

        '
    - name: crash_background_task_name
      type: STRING
      mode: NULLABLE
      description: 'The name of the background task if launched as one.

        '
    - name: crash_font_name
      type: STRING
      mode: NULLABLE
      description: 'The font family name that is being loaded when the crash occurred.

        '
    - name: crash_ipc_channel_error
      type: STRING
      mode: NULLABLE
      description: 'The error reason for an ipc-based content crash.

        '
    - name: crash_main_thread_runnable_name
      type: STRING
      mode: NULLABLE
      description: 'Name of the currently executing `nsIRunnable` on the main thread.
        Nightly-only.

        '
    - name: crash_minidump_sha256_hash
      type: STRING
      mode: NULLABLE
      description: 'The SHA256 hash of the associated minidump file, if any.

        '
    - name: crash_moz_crash_reason
      type: STRING
      mode: NULLABLE
      description: 'Contains the string passed to `MOZ_CRASH()`.

        '
    - name: crash_profiler_child_shutdown_phase
      type: STRING
      mode: NULLABLE
      description: 'The shutdown phase of the profiler.

        '
    - name: crash_remote_type
      type: STRING
      mode: NULLABLE
      description: 'The type of the content process. See the full list of options
        [here](https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/data/crash-ping.html#remote-process-types).

        '
    - name: crash_shutdown_progress
      type: STRING
      mode: NULLABLE
      description: 'The shutdown phase in which the crash occurred.

        '
    - name: crash_windows_file_dialog_error_code
      type: STRING
      mode: NULLABLE
      description: 'The HRESULT returned from a Win32 system call leading to termination
        of the file-dialog utility process. MozCrashReason is expected to provide
        context for the value.

        '
    - name: windows_package_family_name
      type: STRING
      mode: NULLABLE
      description: 'The Package Family Name of Firefox, if installed through an MSIX
        package.

        '
    - name: memory_js_large_allocation_failure
      type: STRING
      mode: NULLABLE
      description: 'A large allocation couldn''t be satisfied: What was its state
        when the crash happened.

        '
    - name: memory_js_out_of_memory
      type: STRING
      mode: NULLABLE
      description: 'A small allocation couldn''t be satisfied: What was its state
        when the crash happened.

        '
  - name: timespan
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_uptime
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'The application uptime. This is equivalent to the legacy crash
        ping''s `UptimeTS` field.

        '
    - name: environment_uptime
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'The start time of the application.

        '
  - name: object
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_async_shutdown_timeout
      type: JSON
      mode: NULLABLE
      description: 'Present when a shutdown blocker failed to respond within a reasonable
        amount of time.

        '
    - name: crash_quota_manager_shutdown_timeout
      type: JSON
      mode: NULLABLE
      description: 'Contains a list of shutdown steps and status of the quota manager
        clients.

        '
    - name: crash_stack_traces
      type: JSON
      mode: NULLABLE
      description: 'Stack trace and module information of the crashing process.

        '
  - name: quantity
    type: RECORD
    mode: NULLABLE
    fields:
    - name: crash_event_loop_nesting_level
      type: INTEGER
      mode: NULLABLE
      description: 'Indicates the nesting level of the event loop.

        '
    - name: crash_gpu_process_launch
      type: INTEGER
      mode: NULLABLE
      description: 'The number of times that the GPU process was launched.

        '
    - name: memory_available_commit
      type: INTEGER
      mode: NULLABLE
      description: 'Available commit size.

        '
    - name: memory_available_physical
      type: INTEGER
      mode: NULLABLE
      description: 'Available physical memory.

        '
    - name: memory_available_swap
      type: INTEGER
      mode: NULLABLE
      description: 'Available swap memory.

        '
    - name: memory_available_virtual
      type: INTEGER
      mode: NULLABLE
      description: 'Available virtual memory.

        '
    - name: memory_low_physical
      type: INTEGER
      mode: NULLABLE
      description: 'The number of times the available memory tracker has detected
        that free physical memory is running low.

        '
    - name: memory_oom_allocation_size
      type: INTEGER
      mode: NULLABLE
      description: 'The size of the allocation that caused on OOM crash.

        '
    - name: memory_purgeable_physical
      type: INTEGER
      mode: NULLABLE
      description: 'The amount of memory that can be deallocated by the OS in case
        of memory pressure.

        '
    - name: memory_system_use_percentage
      type: INTEGER
      mode: NULLABLE
      description: 'The percentage of memory in use.

        '
    - name: memory_texture
      type: INTEGER
      mode: NULLABLE
      description: 'The amount of memory used in textures.

        '
    - name: memory_total_page_file
      type: INTEGER
      mode: NULLABLE
      description: 'The total page file size.

        '
    - name: memory_total_physical
      type: INTEGER
      mode: NULLABLE
      description: 'The total physical memory.

        '
    - name: memory_total_virtual
      type: INTEGER
      mode: NULLABLE
      description: 'The total virtual memory.

        '
  - name: string_list
    type: RECORD
    mode: NULLABLE
    fields:
    - name: dll_blocklist_list
      type: STRING
      mode: REPEATED
    - name: environment_experimental_features
      type: STRING
      mode: REPEATED
    - name: crash_utility_actors_name
      type: STRING
      mode: REPEATED
    - name: environment_nimbus_enrollments
      type: STRING
      mode: REPEATED
- name: normalized_app_name
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized app name
- name: normalized_channel
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized channel name
- name: normalized_country_code
  type: STRING
  mode: NULLABLE
  description: An ISO 3166-1 alpha-2 country code
- name: normalized_os
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized OS name
- name: normalized_os_version
  type: STRING
  mode: NULLABLE
- name: ping_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: end_time
    type: STRING
    mode: NULLABLE
  - name: experiments
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: RECORD
      mode: NULLABLE
      fields:
      - name: branch
        type: STRING
        mode: NULLABLE
      - name: extra
        type: RECORD
        mode: NULLABLE
        fields:
        - name: type
          type: STRING
          mode: NULLABLE
        - name: enrollment_id
          type: STRING
          mode: NULLABLE
  - name: ping_type
    type: STRING
    mode: NULLABLE
  - name: reason
    type: STRING
    mode: NULLABLE
  - name: seq
    type: INTEGER
    mode: NULLABLE
  - name: start_time
    type: STRING
    mode: NULLABLE
  - name: parsed_start_time
    type: TIMESTAMP
    mode: NULLABLE
  - name: parsed_end_time
    type: TIMESTAMP
    mode: NULLABLE
- name: sample_id
  type: INTEGER
  mode: NULLABLE
  description: Hashed version of client_id (if present) useful for partitioning; ranges
    from 0 to 99
- name: submission_timestamp
  type: TIMESTAMP
  mode: NULLABLE
  description: Time when the ingestion edge server accepted this message
- name: app_version_major
  type: NUMERIC
  mode: NULLABLE
- name: app_version_minor
  type: NUMERIC
  mode: NULLABLE
- name: app_version_patch
  type: NUMERIC
  mode: NULLABLE
- name: is_bot_generated
  type: BOOLEAN
  mode: NULLABLE
