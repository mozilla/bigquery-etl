friendly_name: Braze Changed Subscriptions Sync | Firefox Workspace
description: |-
  Changes in subscriptions in Braze from the previous day - mapped to the Firefox workspace.
  In order to consume the least amount of data points, we only want to sync rows changed
  since the last sync. This table holds all of the changed subscription data that syncs to braze.


  See https://mozilla-hub.atlassian.net/browse/DENG-3182
owners:
- cbeck@mozilla.com
labels:
  incremental: true
  owner: cbeck
  dag: bqetl_braze
  owner1: cbeck
scheduling:
  dag_name: bqetl_braze
  date_partition_parameter: null
  arguments:
  - --append_table
  - --noreplace
bigquery:
  time_partitioning: null
  range_partitioning: null
  clustering: null
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:braze
  - workgroup:braze/ingestion-firefox
  - workgroup:braze/ingestion-mozilla-dev
- role: roles/bigquery.dataEditor
  members:
  - workgroup:braze/writers
references:
  checks.sql:
  - ..
  query.sql:
  - moz-fx-data-shared-prod.braze_derived.subscriptions_v1
  - moz-fx-data-shared-prod.braze_external.changed_firefox_subscriptions_sync_v1
