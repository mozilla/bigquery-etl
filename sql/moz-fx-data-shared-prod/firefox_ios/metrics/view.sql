-- Generated via ./bqetl generate glean_usage
CREATE OR REPLACE VIEW
  `moz-fx-data-shared-prod.firefox_ios.metrics`
AS
SELECT
  "org_mozilla_ios_firefox" AS normalized_app_id,
  "release" AS normalized_channel,
  additional_properties,
  client_info,
  document_id,
  events,
  metadata,
  STRUCT(
    STRUCT(
      metrics.boolean.glean_core_migration_successful,
      metrics.boolean.glean_error_preinit_tasks_timeout,
      metrics.boolean.application_services_bookmark_highlights_visible,
      metrics.boolean.application_services_pocket_stories_visible,
      metrics.boolean.application_services_recent_highlights_visible,
      metrics.boolean.preferences_block_popups,
      metrics.boolean.preferences_close_private_tabs,
      metrics.boolean.preferences_save_logins,
      metrics.boolean.preferences_show_clipboard_bar,
      metrics.boolean.theme_automatic_mode,
      metrics.boolean.theme_use_system_theme,
      metrics.boolean.tracking_protection_enabled,
      metrics.boolean.installed_mozilla_products_focus,
      metrics.boolean.installed_mozilla_products_klar,
      metrics.boolean.device_authentication,
      metrics.boolean.firefox_home_page_pocket_stories_visible,
      metrics.boolean.preferences_sync_notifs,
      metrics.boolean.preferences_tips_and_features_notifs,
      metrics.boolean.preferences_fxa_logged_in,
      metrics.boolean.credit_card_autofill_enabled,
      metrics.boolean.credit_card_sync_enabled,
      metrics.boolean.preferences_jump_back_in,
      metrics.boolean.preferences_pocket,
      metrics.boolean.preferences_recently_saved,
      metrics.boolean.preferences_recently_visited,
      metrics.boolean.top_sites_sponsored_shortcuts,
      metrics.boolean.bookmarks_has_mobile_bookmarks,
      metrics.boolean.shopping_settings_component_opted_out,
      metrics.boolean.shopping_settings_nimbus_disabled_shopping,
      metrics.boolean.shopping_settings_user_has_onboarded,
      metrics.boolean.shopping_settings_disabled_ads,
      metrics.boolean.app_choice_screen_acquisition,
      metrics.boolean.app_default_browser
    ) AS `boolean`,
    STRUCT(
      metrics.counter.glean_error_preinit_tasks_overflow,
      metrics.counter.glean_validation_app_forceclosed_count,
      metrics.counter.glean_validation_baseline_ping_count,
      metrics.counter.qr_code_scanned,
      metrics.counter.reader_mode_close,
      metrics.counter.reader_mode_open,
      metrics.counter.reading_list_mark_read,
      metrics.counter.reading_list_mark_unread,
      metrics.counter.reading_list_open,
      metrics.counter.search_start_search_pressed,
      metrics.counter.tabs_cumulative_count,
      metrics.counter.tabs_new_tab_pressed,
      metrics.counter.glean_upload_deleted_pings_after_quota_hit,
      metrics.counter.app_opened_as_default_browser,
      metrics.counter.default_browser_card_dismiss_pressed,
      metrics.counter.default_browser_card_go_to_settings_pressed,
      metrics.counter.settings_menu_set_as_default_browser_pressed,
      metrics.counter.glean_upload_pending_pings,
      metrics.counter.widget_l_tabs_open_url,
      metrics.counter.widget_m_quick_action_close_private,
      metrics.counter.widget_m_quick_action_copied_link,
      metrics.counter.widget_m_quick_action_private_search,
      metrics.counter.widget_m_quick_action_search,
      metrics.counter.widget_m_tabs_open_url,
      metrics.counter.widget_m_top_sites_widget,
      metrics.counter.widget_s_quick_action_search,
      metrics.counter.glean_validation_foreground_count,
      metrics.counter.glean_error_io,
      metrics.counter.default_browser_onboarding_dismiss_pressed,
      metrics.counter.default_browser_onboarding_go_to_settings_pressed,
      metrics.counter.pocket_open_story,
      metrics.counter.sync_create_account_pressed,
      metrics.counter.sync_open_sync_home_shortcut,
      metrics.counter.sync_open_tab,
      metrics.counter.sync_sign_in_sync_pressed,
      metrics.counter.app_menu_library,
      metrics.counter.app_menu_logins,
      metrics.counter.app_menu_sign_into_sync,
      metrics.counter.glean_time_invalid_timezone_offset,
      metrics.counter.app_menu_block_images_disabled,
      metrics.counter.app_menu_block_images_enabled,
      metrics.counter.app_menu_home,
      metrics.counter.app_menu_night_mode_disabled,
      metrics.counter.app_menu_night_mode_enabled,
      metrics.counter.app_menu_settings,
      metrics.counter.app_menu_whats_new,
      metrics.counter.page_action_menu_add_to_reading_list,
      metrics.counter.page_action_menu_copy_address,
      metrics.counter.page_action_menu_find_in_page,
      metrics.counter.page_action_menu_pin_to_top_sites,
      metrics.counter.page_action_menu_remove_pinned_site,
      metrics.counter.page_action_menu_report_site_issue,
      metrics.counter.page_action_menu_request_desktop_site,
      metrics.counter.page_action_menu_request_mobile_site,
      metrics.counter.page_action_menu_send_to_device,
      metrics.counter.page_action_menu_share_page_with,
      metrics.counter.firefox_home_page_open_from_awesomebar,
      metrics.counter.firefox_home_page_open_from_menu_home_button,
      metrics.counter.pocket_section_impressions,
      metrics.counter.firefox_home_page_recently_saved_bookmark_item,
      metrics.counter.firefox_home_page_recently_saved_show_all,
      metrics.counter.firefox_home_page_recently_saved_reading_item,
      metrics.counter.inactive_tabs_tray_open_inactive_tab,
      metrics.counter.inactive_tabs_tray_open_recently_closed_list,
      metrics.counter.inactive_tabs_tray_open_recently_closed_tab,
      metrics.counter.firefox_home_page_jump_back_in_section_view,
      metrics.counter.firefox_home_page_jump_back_in_show_all,
      metrics.counter.firefox_home_page_jump_back_in_tab_opened,
      metrics.counter.onboarding_sync_screen,
      metrics.counter.onboarding_sync_screen_browse,
      metrics.counter.onboarding_sync_screen_sign_up,
      metrics.counter.onboarding_welcome_screen,
      metrics.counter.onboarding_welcome_screen_close,
      metrics.counter.onboarding_welcome_screen_next,
      metrics.counter.onboarding_welcome_screen_sign_in,
      metrics.counter.onboarding_welcome_screen_sign_up,
      metrics.counter.tabs_pull_to_refresh,
      metrics.counter.firefox_home_page_jump_back_in_group_opened,
      metrics.counter.firefox_home_page_customize_homepage_button,
      metrics.counter.tabs_grouped_tab_search,
      metrics.counter.firefox_home_page_firefox_homepage_view,
      metrics.counter.logins_store_migration_num_failed,
      metrics.counter.logins_store_migration_num_processed,
      metrics.counter.logins_store_migration_num_succeeded,
      metrics.counter.logins_store_read_query_count,
      metrics.counter.logins_store_unlock_count,
      metrics.counter.logins_store_write_query_count,
      metrics.counter.tabs_normal_and_private_uri_count,
      metrics.counter.firefox_home_page_history_highlights_item_opened,
      metrics.counter.firefox_home_page_history_highlights_show_all,
      metrics.counter.firefox_home_page_history_highlights_view,
      metrics.counter.firefox_home_page_cycle_wallpaper_button,
      metrics.counter.tabs_navigate_tab_back_swipe,
      metrics.counter.tabs_navigate_tab_history_back,
      metrics.counter.tabs_navigate_tab_history_forward,
      metrics.counter.tabs_reload_from_url_bar,
      metrics.counter.inactive_tabs_tray_inactive_tab_shown,
      metrics.counter.inactive_tabs_tray_inactive_tab_swipe_close,
      metrics.counter.inactive_tabs_tray_inactive_tabs_close_all_btn,
      metrics.counter.history_group_list,
      metrics.counter.migration_image_sd_cache_cleanup,
      metrics.counter.firefox_home_page_jump_back_in_tile_view,
      metrics.counter.firefox_home_page_synced_tab_opened,
      metrics.counter.firefox_home_page_synced_tab_show_all,
      metrics.counter.firefox_home_page_synced_tab_tile_view,
      metrics.counter.page_action_menu_create_new_tab,
      metrics.counter.page_action_menu_view_downloads_panel,
      metrics.counter.page_action_menu_view_history_panel,
      metrics.counter.app_menu_customize_homepage,
      metrics.counter.app_menu_help,
      metrics.counter.app_menu_homepage_menu,
      metrics.counter.app_menu_site_menu,
      metrics.counter.glean_upload_in_flight_pings_dropped,
      metrics.counter.glean_upload_missing_send_ids,
      metrics.counter.shopping_product_page_visits,
      metrics.counter.logins_deleted,
      metrics.counter.logins_modified,
      metrics.counter.logins_saved,
      metrics.counter.credit_card_deleted,
      metrics.counter.credit_card_modified,
      metrics.counter.credit_card_saved,
      metrics.counter.tabs_grouped_tab_closed,
      metrics.counter.password_generator_filled,
      metrics.counter.password_generator_shown
    ) AS `counter`,
    STRUCT(
      metrics.labeled_counter.glean_error_invalid_label,
      metrics.labeled_counter.glean_error_invalid_overflow,
      metrics.labeled_counter.glean_error_invalid_state,
      metrics.labeled_counter.glean_error_invalid_value,
      metrics.labeled_counter.glean_upload_ping_upload_failure,
      metrics.labeled_counter.bookmarks_add,
      metrics.labeled_counter.bookmarks_delete,
      metrics.labeled_counter.bookmarks_open,
      metrics.labeled_counter.bookmarks_view_list,
      metrics.labeled_counter.reading_list_add,
      metrics.labeled_counter.reading_list_delete,
      metrics.labeled_counter.search_counts,
      metrics.labeled_counter.tabs_close,
      metrics.labeled_counter.tabs_open,
      metrics.labeled_counter.tabs_close_all,
      metrics.labeled_counter.search_in_content,
      metrics.labeled_counter.glean_validation_pings_submitted,
      metrics.labeled_counter.search_google_topsite_pressed,
      metrics.labeled_counter.library_panel_pressed,
      metrics.labeled_counter.firefox_home_page_your_library,
      metrics.labeled_counter.bookmarks_edit,
      metrics.labeled_counter.pocket_open_story_position,
      metrics.labeled_counter.inactive_tabs_tray_toggle_inactive_tab_tray,
      metrics.labeled_counter.browser_search_ad_clicks,
      metrics.labeled_counter.browser_search_with_ads,
      metrics.labeled_counter.logins_store_read_query_error_count,
      metrics.labeled_counter.logins_store_unlock_error_count,
      metrics.labeled_counter.logins_store_write_query_error_count,
      metrics.labeled_counter.firefox_home_page_firefox_homepage_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_group_open_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_show_all_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_bookmark_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_read_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_show_all_origin,
      metrics.labeled_counter.pocket_open_story_origin,
      metrics.labeled_counter.top_site_pressed_tile_origin,
      metrics.labeled_counter.history_selected_item,
      metrics.labeled_counter.top_sites_pressed_tile_origin,
      metrics.labeled_counter.wallpaper_analytics_themed_wallpaper,
      metrics.labeled_counter.firefox_home_page_synced_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_synced_tab_show_all_origin
    ) AS `labeled_counter`,
    STRUCT(
      metrics.string.ping_reason,
      metrics.string.preferences_mail_client,
      metrics.string.preferences_new_tab_experience,
      metrics.string.search_default_engine,
      metrics.string.theme_automatic_slider_value,
      metrics.string.theme_name,
      metrics.string.tracking_protection_strength,
      metrics.string.preferences_home_page_setting,
      metrics.string.adjust_ad_group,
      metrics.string.adjust_campaign,
      metrics.string.adjust_creative,
      metrics.string.adjust_network,
      metrics.string.preferences_opening_screen,
      metrics.string.glean_client_annotation_experimentation_id,
      metrics.string.glean_database_rkv_load_error
    ) AS `string`,
    STRUCT(
      metrics.memory_distribution.glean_upload_discarded_exceeding_pings_size,
      metrics.memory_distribution.glean_upload_pending_pings_directory_size,
      metrics.memory_distribution.glean_database_size
    ) AS `memory_distribution`,
    STRUCT(
      metrics.datetime.app_last_opened_as_default_browser,
      metrics.datetime.raw_app_last_opened_as_default_browser,
      metrics.datetime.glean_validation_first_run_hour,
      metrics.datetime.raw_glean_validation_first_run_hour
    ) AS `datetime`,
    STRUCT(metrics.uuid.legacy_ids_client_id) AS `uuid`,
    STRUCT(metrics.string_list.logins_store_migration_errors) AS `string_list`,
    STRUCT(metrics.timespan.logins_store_migration_total_duration) AS `timespan`,
    STRUCT(
      metrics.timing_distribution.logins_store_read_query_time,
      metrics.timing_distribution.logins_store_unlock_time,
      metrics.timing_distribution.logins_store_write_query_time,
      metrics.timing_distribution.awesomebar_query_time,
      metrics.timing_distribution.places_history_migration_duration,
      metrics.timing_distribution.nimbus_health_apply_pending_experiments_time,
      metrics.timing_distribution.nimbus_health_fetch_experiments_time,
      metrics.timing_distribution.glean_upload_send_failure,
      metrics.timing_distribution.glean_upload_send_success,
      metrics.timing_distribution.glean_validation_shutdown_wait,
      metrics.timing_distribution.glean_validation_shutdown_dispatcher_wait,
      metrics.timing_distribution.tabs_tab_switch,
      metrics.timing_distribution.webview_page_load,
      metrics.timing_distribution.glean_database_write_time,
      metrics.timing_distribution.share_deeplink_open_url_startup_time
    ) AS `timing_distribution`,
    STRUCT(
      metrics.quantity.tabs_normal_tabs_quantity,
      metrics.quantity.tabs_private_tabs_quantity,
      metrics.quantity.places_history_migration_num_migrated,
      metrics.quantity.places_history_migration_num_to_migrate,
      metrics.quantity.history_num_visits,
      metrics.quantity.tabs_inactive_tabs_count,
      metrics.quantity.bookmarks_mobile_bookmarks_count,
      metrics.quantity.logins_saved_all,
      metrics.quantity.credit_card_saved_all,
      metrics.quantity.addresses_saved_all,
      metrics.quantity.windows_ipad_window_count
    ) AS `quantity`,
    STRUCT(
      metrics.rate.places_history_migration_migration_ended_rate,
      metrics.rate.places_history_migration_migration_error_rate
    ) AS `rate`,
    STRUCT(metrics.object.nimbus_system_recorded_nimbus_context) AS `object`
  ) AS `metrics`,
  normalized_app_name,
  normalized_country_code,
  normalized_os,
  normalized_os_version,
  ping_info,
  sample_id,
  submission_timestamp,
  app_version_major,
  app_version_minor,
  app_version_patch
FROM
  `moz-fx-data-shared-prod.org_mozilla_ios_firefox.metrics`
UNION ALL
SELECT
  "org_mozilla_ios_firefoxbeta" AS normalized_app_id,
  "beta" AS normalized_channel,
  additional_properties,
  client_info,
  document_id,
  events,
  metadata,
  STRUCT(
    STRUCT(
      metrics.boolean.glean_core_migration_successful,
      metrics.boolean.glean_error_preinit_tasks_timeout,
      metrics.boolean.application_services_bookmark_highlights_visible,
      metrics.boolean.application_services_pocket_stories_visible,
      metrics.boolean.application_services_recent_highlights_visible,
      metrics.boolean.preferences_block_popups,
      metrics.boolean.preferences_close_private_tabs,
      metrics.boolean.preferences_save_logins,
      metrics.boolean.preferences_show_clipboard_bar,
      metrics.boolean.theme_automatic_mode,
      metrics.boolean.theme_use_system_theme,
      metrics.boolean.tracking_protection_enabled,
      metrics.boolean.installed_mozilla_products_focus,
      metrics.boolean.installed_mozilla_products_klar,
      metrics.boolean.device_authentication,
      metrics.boolean.firefox_home_page_pocket_stories_visible,
      metrics.boolean.preferences_sync_notifs,
      metrics.boolean.preferences_tips_and_features_notifs,
      metrics.boolean.preferences_fxa_logged_in,
      metrics.boolean.credit_card_autofill_enabled,
      metrics.boolean.credit_card_sync_enabled,
      metrics.boolean.preferences_jump_back_in,
      metrics.boolean.preferences_pocket,
      metrics.boolean.preferences_recently_saved,
      metrics.boolean.preferences_recently_visited,
      metrics.boolean.top_sites_sponsored_shortcuts,
      metrics.boolean.bookmarks_has_mobile_bookmarks,
      metrics.boolean.shopping_settings_component_opted_out,
      metrics.boolean.shopping_settings_nimbus_disabled_shopping,
      metrics.boolean.shopping_settings_user_has_onboarded,
      metrics.boolean.shopping_settings_disabled_ads,
      metrics.boolean.app_choice_screen_acquisition,
      metrics.boolean.app_default_browser
    ) AS `boolean`,
    STRUCT(
      metrics.counter.glean_error_preinit_tasks_overflow,
      metrics.counter.glean_validation_app_forceclosed_count,
      metrics.counter.glean_validation_baseline_ping_count,
      metrics.counter.qr_code_scanned,
      metrics.counter.reader_mode_close,
      metrics.counter.reader_mode_open,
      metrics.counter.reading_list_mark_read,
      metrics.counter.reading_list_mark_unread,
      metrics.counter.reading_list_open,
      metrics.counter.search_start_search_pressed,
      metrics.counter.tabs_cumulative_count,
      metrics.counter.tabs_new_tab_pressed,
      metrics.counter.glean_upload_deleted_pings_after_quota_hit,
      metrics.counter.app_opened_as_default_browser,
      metrics.counter.default_browser_card_dismiss_pressed,
      metrics.counter.default_browser_card_go_to_settings_pressed,
      metrics.counter.settings_menu_set_as_default_browser_pressed,
      metrics.counter.glean_upload_pending_pings,
      metrics.counter.widget_l_tabs_open_url,
      metrics.counter.widget_m_quick_action_close_private,
      metrics.counter.widget_m_quick_action_copied_link,
      metrics.counter.widget_m_quick_action_private_search,
      metrics.counter.widget_m_quick_action_search,
      metrics.counter.widget_m_tabs_open_url,
      metrics.counter.widget_m_top_sites_widget,
      metrics.counter.widget_s_quick_action_search,
      metrics.counter.glean_validation_foreground_count,
      metrics.counter.glean_error_io,
      metrics.counter.default_browser_onboarding_dismiss_pressed,
      metrics.counter.default_browser_onboarding_go_to_settings_pressed,
      metrics.counter.pocket_open_story,
      metrics.counter.sync_create_account_pressed,
      metrics.counter.sync_open_sync_home_shortcut,
      metrics.counter.sync_open_tab,
      metrics.counter.sync_sign_in_sync_pressed,
      metrics.counter.app_menu_library,
      metrics.counter.app_menu_logins,
      metrics.counter.app_menu_sign_into_sync,
      metrics.counter.glean_time_invalid_timezone_offset,
      metrics.counter.app_menu_block_images_disabled,
      metrics.counter.app_menu_block_images_enabled,
      metrics.counter.app_menu_home,
      metrics.counter.app_menu_night_mode_disabled,
      metrics.counter.app_menu_night_mode_enabled,
      metrics.counter.app_menu_settings,
      metrics.counter.app_menu_whats_new,
      metrics.counter.page_action_menu_add_to_reading_list,
      metrics.counter.page_action_menu_copy_address,
      metrics.counter.page_action_menu_find_in_page,
      metrics.counter.page_action_menu_pin_to_top_sites,
      metrics.counter.page_action_menu_remove_pinned_site,
      metrics.counter.page_action_menu_report_site_issue,
      metrics.counter.page_action_menu_request_desktop_site,
      metrics.counter.page_action_menu_request_mobile_site,
      metrics.counter.page_action_menu_send_to_device,
      metrics.counter.page_action_menu_share_page_with,
      metrics.counter.firefox_home_page_open_from_awesomebar,
      metrics.counter.firefox_home_page_open_from_menu_home_button,
      metrics.counter.pocket_section_impressions,
      metrics.counter.firefox_home_page_recently_saved_bookmark_item,
      metrics.counter.firefox_home_page_recently_saved_show_all,
      metrics.counter.firefox_home_page_recently_saved_reading_item,
      metrics.counter.inactive_tabs_tray_open_inactive_tab,
      metrics.counter.inactive_tabs_tray_open_recently_closed_list,
      metrics.counter.inactive_tabs_tray_open_recently_closed_tab,
      metrics.counter.firefox_home_page_jump_back_in_section_view,
      metrics.counter.firefox_home_page_jump_back_in_show_all,
      metrics.counter.firefox_home_page_jump_back_in_tab_opened,
      metrics.counter.onboarding_sync_screen,
      metrics.counter.onboarding_sync_screen_browse,
      metrics.counter.onboarding_sync_screen_sign_up,
      metrics.counter.onboarding_welcome_screen,
      metrics.counter.onboarding_welcome_screen_close,
      metrics.counter.onboarding_welcome_screen_next,
      metrics.counter.onboarding_welcome_screen_sign_in,
      metrics.counter.onboarding_welcome_screen_sign_up,
      metrics.counter.tabs_pull_to_refresh,
      metrics.counter.firefox_home_page_jump_back_in_group_opened,
      metrics.counter.firefox_home_page_customize_homepage_button,
      metrics.counter.tabs_grouped_tab_search,
      metrics.counter.firefox_home_page_firefox_homepage_view,
      metrics.counter.logins_store_migration_num_failed,
      metrics.counter.logins_store_migration_num_processed,
      metrics.counter.logins_store_migration_num_succeeded,
      metrics.counter.logins_store_read_query_count,
      metrics.counter.logins_store_unlock_count,
      metrics.counter.logins_store_write_query_count,
      metrics.counter.tabs_normal_and_private_uri_count,
      metrics.counter.firefox_home_page_history_highlights_item_opened,
      metrics.counter.firefox_home_page_history_highlights_show_all,
      metrics.counter.firefox_home_page_history_highlights_view,
      metrics.counter.firefox_home_page_cycle_wallpaper_button,
      metrics.counter.tabs_navigate_tab_back_swipe,
      metrics.counter.tabs_navigate_tab_history_back,
      metrics.counter.tabs_navigate_tab_history_forward,
      metrics.counter.tabs_reload_from_url_bar,
      metrics.counter.inactive_tabs_tray_inactive_tab_shown,
      metrics.counter.inactive_tabs_tray_inactive_tab_swipe_close,
      metrics.counter.inactive_tabs_tray_inactive_tabs_close_all_btn,
      metrics.counter.history_group_list,
      metrics.counter.migration_image_sd_cache_cleanup,
      metrics.counter.firefox_home_page_jump_back_in_tile_view,
      metrics.counter.firefox_home_page_synced_tab_opened,
      metrics.counter.firefox_home_page_synced_tab_show_all,
      metrics.counter.firefox_home_page_synced_tab_tile_view,
      metrics.counter.page_action_menu_create_new_tab,
      metrics.counter.page_action_menu_view_downloads_panel,
      metrics.counter.page_action_menu_view_history_panel,
      metrics.counter.app_menu_customize_homepage,
      metrics.counter.app_menu_help,
      metrics.counter.app_menu_homepage_menu,
      metrics.counter.app_menu_site_menu,
      metrics.counter.glean_upload_in_flight_pings_dropped,
      metrics.counter.glean_upload_missing_send_ids,
      metrics.counter.shopping_product_page_visits,
      metrics.counter.logins_deleted,
      metrics.counter.logins_modified,
      metrics.counter.logins_saved,
      metrics.counter.credit_card_deleted,
      metrics.counter.credit_card_modified,
      metrics.counter.credit_card_saved,
      metrics.counter.tabs_grouped_tab_closed,
      metrics.counter.password_generator_filled,
      metrics.counter.password_generator_shown
    ) AS `counter`,
    STRUCT(
      metrics.labeled_counter.glean_error_invalid_label,
      metrics.labeled_counter.glean_error_invalid_overflow,
      metrics.labeled_counter.glean_error_invalid_state,
      metrics.labeled_counter.glean_error_invalid_value,
      metrics.labeled_counter.glean_upload_ping_upload_failure,
      metrics.labeled_counter.bookmarks_add,
      metrics.labeled_counter.bookmarks_delete,
      metrics.labeled_counter.bookmarks_open,
      metrics.labeled_counter.bookmarks_view_list,
      metrics.labeled_counter.reading_list_add,
      metrics.labeled_counter.reading_list_delete,
      metrics.labeled_counter.search_counts,
      metrics.labeled_counter.tabs_close,
      metrics.labeled_counter.tabs_open,
      metrics.labeled_counter.tabs_close_all,
      metrics.labeled_counter.search_in_content,
      metrics.labeled_counter.glean_validation_pings_submitted,
      metrics.labeled_counter.search_google_topsite_pressed,
      metrics.labeled_counter.library_panel_pressed,
      metrics.labeled_counter.firefox_home_page_your_library,
      metrics.labeled_counter.bookmarks_edit,
      metrics.labeled_counter.pocket_open_story_position,
      metrics.labeled_counter.inactive_tabs_tray_toggle_inactive_tab_tray,
      metrics.labeled_counter.browser_search_ad_clicks,
      metrics.labeled_counter.browser_search_with_ads,
      metrics.labeled_counter.logins_store_read_query_error_count,
      metrics.labeled_counter.logins_store_unlock_error_count,
      metrics.labeled_counter.logins_store_write_query_error_count,
      metrics.labeled_counter.firefox_home_page_firefox_homepage_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_group_open_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_show_all_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_bookmark_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_read_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_show_all_origin,
      metrics.labeled_counter.pocket_open_story_origin,
      metrics.labeled_counter.top_site_pressed_tile_origin,
      metrics.labeled_counter.history_selected_item,
      metrics.labeled_counter.top_sites_pressed_tile_origin,
      metrics.labeled_counter.wallpaper_analytics_themed_wallpaper,
      metrics.labeled_counter.firefox_home_page_synced_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_synced_tab_show_all_origin
    ) AS `labeled_counter`,
    STRUCT(
      metrics.string.ping_reason,
      metrics.string.preferences_mail_client,
      metrics.string.preferences_new_tab_experience,
      metrics.string.search_default_engine,
      metrics.string.theme_automatic_slider_value,
      metrics.string.theme_name,
      metrics.string.tracking_protection_strength,
      metrics.string.preferences_home_page_setting,
      metrics.string.adjust_ad_group,
      metrics.string.adjust_campaign,
      metrics.string.adjust_creative,
      metrics.string.adjust_network,
      metrics.string.preferences_opening_screen,
      metrics.string.glean_client_annotation_experimentation_id,
      metrics.string.glean_database_rkv_load_error
    ) AS `string`,
    STRUCT(
      metrics.memory_distribution.glean_upload_discarded_exceeding_pings_size,
      metrics.memory_distribution.glean_upload_pending_pings_directory_size,
      metrics.memory_distribution.glean_database_size
    ) AS `memory_distribution`,
    STRUCT(
      metrics.datetime.app_last_opened_as_default_browser,
      metrics.datetime.raw_app_last_opened_as_default_browser,
      metrics.datetime.glean_validation_first_run_hour,
      metrics.datetime.raw_glean_validation_first_run_hour
    ) AS `datetime`,
    STRUCT(metrics.uuid.legacy_ids_client_id) AS `uuid`,
    STRUCT(metrics.string_list.logins_store_migration_errors) AS `string_list`,
    STRUCT(metrics.timespan.logins_store_migration_total_duration) AS `timespan`,
    STRUCT(
      metrics.timing_distribution.logins_store_read_query_time,
      metrics.timing_distribution.logins_store_unlock_time,
      metrics.timing_distribution.logins_store_write_query_time,
      metrics.timing_distribution.awesomebar_query_time,
      metrics.timing_distribution.places_history_migration_duration,
      metrics.timing_distribution.nimbus_health_apply_pending_experiments_time,
      metrics.timing_distribution.nimbus_health_fetch_experiments_time,
      metrics.timing_distribution.glean_upload_send_failure,
      metrics.timing_distribution.glean_upload_send_success,
      metrics.timing_distribution.glean_validation_shutdown_wait,
      metrics.timing_distribution.glean_validation_shutdown_dispatcher_wait,
      metrics.timing_distribution.tabs_tab_switch,
      metrics.timing_distribution.webview_page_load,
      metrics.timing_distribution.glean_database_write_time,
      metrics.timing_distribution.share_deeplink_open_url_startup_time
    ) AS `timing_distribution`,
    STRUCT(
      metrics.quantity.tabs_normal_tabs_quantity,
      metrics.quantity.tabs_private_tabs_quantity,
      metrics.quantity.places_history_migration_num_migrated,
      metrics.quantity.places_history_migration_num_to_migrate,
      metrics.quantity.history_num_visits,
      metrics.quantity.tabs_inactive_tabs_count,
      metrics.quantity.bookmarks_mobile_bookmarks_count,
      metrics.quantity.logins_saved_all,
      metrics.quantity.credit_card_saved_all,
      metrics.quantity.addresses_saved_all,
      metrics.quantity.windows_ipad_window_count
    ) AS `quantity`,
    STRUCT(
      metrics.rate.places_history_migration_migration_ended_rate,
      metrics.rate.places_history_migration_migration_error_rate
    ) AS `rate`,
    STRUCT(metrics.object.nimbus_system_recorded_nimbus_context) AS `object`
  ) AS `metrics`,
  normalized_app_name,
  normalized_country_code,
  normalized_os,
  normalized_os_version,
  ping_info,
  sample_id,
  submission_timestamp,
  app_version_major,
  app_version_minor,
  app_version_patch
FROM
  `moz-fx-data-shared-prod.org_mozilla_ios_firefoxbeta.metrics`
UNION ALL
SELECT
  "org_mozilla_ios_fennec" AS normalized_app_id,
  "nightly" AS normalized_channel,
  additional_properties,
  client_info,
  document_id,
  events,
  metadata,
  STRUCT(
    STRUCT(
      metrics.boolean.glean_core_migration_successful,
      metrics.boolean.glean_error_preinit_tasks_timeout,
      metrics.boolean.application_services_bookmark_highlights_visible,
      metrics.boolean.application_services_pocket_stories_visible,
      metrics.boolean.application_services_recent_highlights_visible,
      metrics.boolean.preferences_block_popups,
      metrics.boolean.preferences_close_private_tabs,
      metrics.boolean.preferences_save_logins,
      metrics.boolean.preferences_show_clipboard_bar,
      metrics.boolean.theme_automatic_mode,
      metrics.boolean.theme_use_system_theme,
      metrics.boolean.tracking_protection_enabled,
      metrics.boolean.installed_mozilla_products_focus,
      metrics.boolean.installed_mozilla_products_klar,
      metrics.boolean.device_authentication,
      metrics.boolean.firefox_home_page_pocket_stories_visible,
      metrics.boolean.preferences_sync_notifs,
      metrics.boolean.preferences_tips_and_features_notifs,
      metrics.boolean.preferences_fxa_logged_in,
      metrics.boolean.credit_card_autofill_enabled,
      metrics.boolean.credit_card_sync_enabled,
      metrics.boolean.preferences_jump_back_in,
      metrics.boolean.preferences_pocket,
      metrics.boolean.preferences_recently_saved,
      metrics.boolean.preferences_recently_visited,
      metrics.boolean.top_sites_sponsored_shortcuts,
      metrics.boolean.bookmarks_has_mobile_bookmarks,
      metrics.boolean.shopping_settings_component_opted_out,
      metrics.boolean.shopping_settings_nimbus_disabled_shopping,
      metrics.boolean.shopping_settings_user_has_onboarded,
      metrics.boolean.shopping_settings_disabled_ads,
      metrics.boolean.app_choice_screen_acquisition,
      metrics.boolean.app_default_browser
    ) AS `boolean`,
    STRUCT(
      metrics.counter.glean_error_preinit_tasks_overflow,
      metrics.counter.glean_validation_app_forceclosed_count,
      metrics.counter.glean_validation_baseline_ping_count,
      metrics.counter.qr_code_scanned,
      metrics.counter.reader_mode_close,
      metrics.counter.reader_mode_open,
      metrics.counter.reading_list_mark_read,
      metrics.counter.reading_list_mark_unread,
      metrics.counter.reading_list_open,
      metrics.counter.search_start_search_pressed,
      metrics.counter.tabs_cumulative_count,
      metrics.counter.tabs_new_tab_pressed,
      metrics.counter.glean_upload_deleted_pings_after_quota_hit,
      metrics.counter.app_opened_as_default_browser,
      metrics.counter.default_browser_card_dismiss_pressed,
      metrics.counter.default_browser_card_go_to_settings_pressed,
      metrics.counter.settings_menu_set_as_default_browser_pressed,
      metrics.counter.glean_upload_pending_pings,
      metrics.counter.widget_l_tabs_open_url,
      metrics.counter.widget_m_quick_action_close_private,
      metrics.counter.widget_m_quick_action_copied_link,
      metrics.counter.widget_m_quick_action_private_search,
      metrics.counter.widget_m_quick_action_search,
      metrics.counter.widget_m_tabs_open_url,
      metrics.counter.widget_m_top_sites_widget,
      metrics.counter.widget_s_quick_action_search,
      metrics.counter.glean_validation_foreground_count,
      metrics.counter.glean_error_io,
      metrics.counter.default_browser_onboarding_dismiss_pressed,
      metrics.counter.default_browser_onboarding_go_to_settings_pressed,
      metrics.counter.pocket_open_story,
      metrics.counter.sync_create_account_pressed,
      metrics.counter.sync_open_sync_home_shortcut,
      metrics.counter.sync_open_tab,
      metrics.counter.sync_sign_in_sync_pressed,
      metrics.counter.app_menu_library,
      metrics.counter.app_menu_logins,
      metrics.counter.app_menu_sign_into_sync,
      metrics.counter.glean_time_invalid_timezone_offset,
      metrics.counter.app_menu_block_images_disabled,
      metrics.counter.app_menu_block_images_enabled,
      metrics.counter.app_menu_home,
      metrics.counter.app_menu_night_mode_disabled,
      metrics.counter.app_menu_night_mode_enabled,
      metrics.counter.app_menu_settings,
      metrics.counter.app_menu_whats_new,
      metrics.counter.page_action_menu_add_to_reading_list,
      metrics.counter.page_action_menu_copy_address,
      metrics.counter.page_action_menu_find_in_page,
      metrics.counter.page_action_menu_pin_to_top_sites,
      metrics.counter.page_action_menu_remove_pinned_site,
      metrics.counter.page_action_menu_report_site_issue,
      metrics.counter.page_action_menu_request_desktop_site,
      metrics.counter.page_action_menu_request_mobile_site,
      metrics.counter.page_action_menu_send_to_device,
      metrics.counter.page_action_menu_share_page_with,
      metrics.counter.firefox_home_page_open_from_awesomebar,
      metrics.counter.firefox_home_page_open_from_menu_home_button,
      metrics.counter.pocket_section_impressions,
      metrics.counter.firefox_home_page_recently_saved_bookmark_item,
      metrics.counter.firefox_home_page_recently_saved_show_all,
      metrics.counter.firefox_home_page_recently_saved_reading_item,
      metrics.counter.inactive_tabs_tray_open_inactive_tab,
      metrics.counter.inactive_tabs_tray_open_recently_closed_list,
      metrics.counter.inactive_tabs_tray_open_recently_closed_tab,
      metrics.counter.firefox_home_page_jump_back_in_section_view,
      metrics.counter.firefox_home_page_jump_back_in_show_all,
      metrics.counter.firefox_home_page_jump_back_in_tab_opened,
      metrics.counter.onboarding_sync_screen,
      metrics.counter.onboarding_sync_screen_browse,
      metrics.counter.onboarding_sync_screen_sign_up,
      metrics.counter.onboarding_welcome_screen,
      metrics.counter.onboarding_welcome_screen_close,
      metrics.counter.onboarding_welcome_screen_next,
      metrics.counter.onboarding_welcome_screen_sign_in,
      metrics.counter.onboarding_welcome_screen_sign_up,
      metrics.counter.tabs_pull_to_refresh,
      metrics.counter.firefox_home_page_jump_back_in_group_opened,
      metrics.counter.firefox_home_page_customize_homepage_button,
      metrics.counter.tabs_grouped_tab_search,
      metrics.counter.firefox_home_page_firefox_homepage_view,
      metrics.counter.logins_store_migration_num_failed,
      metrics.counter.logins_store_migration_num_processed,
      metrics.counter.logins_store_migration_num_succeeded,
      metrics.counter.logins_store_read_query_count,
      metrics.counter.logins_store_unlock_count,
      metrics.counter.logins_store_write_query_count,
      metrics.counter.tabs_normal_and_private_uri_count,
      metrics.counter.firefox_home_page_history_highlights_item_opened,
      metrics.counter.firefox_home_page_history_highlights_show_all,
      metrics.counter.firefox_home_page_history_highlights_view,
      metrics.counter.firefox_home_page_cycle_wallpaper_button,
      metrics.counter.tabs_navigate_tab_back_swipe,
      metrics.counter.tabs_navigate_tab_history_back,
      metrics.counter.tabs_navigate_tab_history_forward,
      metrics.counter.tabs_reload_from_url_bar,
      metrics.counter.inactive_tabs_tray_inactive_tab_shown,
      metrics.counter.inactive_tabs_tray_inactive_tab_swipe_close,
      metrics.counter.inactive_tabs_tray_inactive_tabs_close_all_btn,
      metrics.counter.history_group_list,
      metrics.counter.migration_image_sd_cache_cleanup,
      metrics.counter.firefox_home_page_jump_back_in_tile_view,
      metrics.counter.firefox_home_page_synced_tab_opened,
      metrics.counter.firefox_home_page_synced_tab_show_all,
      metrics.counter.firefox_home_page_synced_tab_tile_view,
      metrics.counter.page_action_menu_create_new_tab,
      metrics.counter.page_action_menu_view_downloads_panel,
      metrics.counter.page_action_menu_view_history_panel,
      metrics.counter.app_menu_customize_homepage,
      metrics.counter.app_menu_help,
      metrics.counter.app_menu_homepage_menu,
      metrics.counter.app_menu_site_menu,
      metrics.counter.glean_upload_in_flight_pings_dropped,
      metrics.counter.glean_upload_missing_send_ids,
      metrics.counter.shopping_product_page_visits,
      metrics.counter.logins_deleted,
      metrics.counter.logins_modified,
      metrics.counter.logins_saved,
      metrics.counter.credit_card_deleted,
      metrics.counter.credit_card_modified,
      metrics.counter.credit_card_saved,
      metrics.counter.tabs_grouped_tab_closed,
      metrics.counter.password_generator_filled,
      metrics.counter.password_generator_shown
    ) AS `counter`,
    STRUCT(
      metrics.labeled_counter.glean_error_invalid_label,
      metrics.labeled_counter.glean_error_invalid_overflow,
      metrics.labeled_counter.glean_error_invalid_state,
      metrics.labeled_counter.glean_error_invalid_value,
      metrics.labeled_counter.glean_upload_ping_upload_failure,
      metrics.labeled_counter.bookmarks_add,
      metrics.labeled_counter.bookmarks_delete,
      metrics.labeled_counter.bookmarks_open,
      metrics.labeled_counter.bookmarks_view_list,
      metrics.labeled_counter.reading_list_add,
      metrics.labeled_counter.reading_list_delete,
      metrics.labeled_counter.search_counts,
      metrics.labeled_counter.tabs_close,
      metrics.labeled_counter.tabs_open,
      metrics.labeled_counter.tabs_close_all,
      metrics.labeled_counter.search_in_content,
      metrics.labeled_counter.glean_validation_pings_submitted,
      metrics.labeled_counter.search_google_topsite_pressed,
      metrics.labeled_counter.library_panel_pressed,
      metrics.labeled_counter.firefox_home_page_your_library,
      metrics.labeled_counter.bookmarks_edit,
      metrics.labeled_counter.pocket_open_story_position,
      metrics.labeled_counter.inactive_tabs_tray_toggle_inactive_tab_tray,
      metrics.labeled_counter.browser_search_ad_clicks,
      metrics.labeled_counter.browser_search_with_ads,
      metrics.labeled_counter.logins_store_read_query_error_count,
      metrics.labeled_counter.logins_store_unlock_error_count,
      metrics.labeled_counter.logins_store_write_query_error_count,
      metrics.labeled_counter.firefox_home_page_firefox_homepage_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_group_open_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_show_all_origin,
      metrics.labeled_counter.firefox_home_page_jump_back_in_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_bookmark_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_read_origin,
      metrics.labeled_counter.firefox_home_page_recently_saved_show_all_origin,
      metrics.labeled_counter.pocket_open_story_origin,
      metrics.labeled_counter.top_site_pressed_tile_origin,
      metrics.labeled_counter.history_selected_item,
      metrics.labeled_counter.top_sites_pressed_tile_origin,
      metrics.labeled_counter.wallpaper_analytics_themed_wallpaper,
      metrics.labeled_counter.firefox_home_page_synced_tab_opened_origin,
      metrics.labeled_counter.firefox_home_page_synced_tab_show_all_origin
    ) AS `labeled_counter`,
    STRUCT(
      metrics.string.ping_reason,
      metrics.string.preferences_mail_client,
      metrics.string.preferences_new_tab_experience,
      metrics.string.search_default_engine,
      metrics.string.theme_automatic_slider_value,
      metrics.string.theme_name,
      metrics.string.tracking_protection_strength,
      metrics.string.preferences_home_page_setting,
      metrics.string.adjust_ad_group,
      metrics.string.adjust_campaign,
      metrics.string.adjust_creative,
      metrics.string.adjust_network,
      metrics.string.preferences_opening_screen,
      metrics.string.glean_client_annotation_experimentation_id,
      metrics.string.glean_database_rkv_load_error
    ) AS `string`,
    STRUCT(
      metrics.memory_distribution.glean_upload_discarded_exceeding_pings_size,
      metrics.memory_distribution.glean_upload_pending_pings_directory_size,
      metrics.memory_distribution.glean_database_size
    ) AS `memory_distribution`,
    STRUCT(
      metrics.datetime.app_last_opened_as_default_browser,
      metrics.datetime.raw_app_last_opened_as_default_browser,
      metrics.datetime.glean_validation_first_run_hour,
      metrics.datetime.raw_glean_validation_first_run_hour
    ) AS `datetime`,
    STRUCT(metrics.uuid.legacy_ids_client_id) AS `uuid`,
    STRUCT(metrics.string_list.logins_store_migration_errors) AS `string_list`,
    STRUCT(metrics.timespan.logins_store_migration_total_duration) AS `timespan`,
    STRUCT(
      metrics.timing_distribution.logins_store_read_query_time,
      metrics.timing_distribution.logins_store_unlock_time,
      metrics.timing_distribution.logins_store_write_query_time,
      metrics.timing_distribution.awesomebar_query_time,
      metrics.timing_distribution.places_history_migration_duration,
      metrics.timing_distribution.nimbus_health_apply_pending_experiments_time,
      metrics.timing_distribution.nimbus_health_fetch_experiments_time,
      metrics.timing_distribution.glean_upload_send_failure,
      metrics.timing_distribution.glean_upload_send_success,
      metrics.timing_distribution.glean_validation_shutdown_wait,
      metrics.timing_distribution.glean_validation_shutdown_dispatcher_wait,
      metrics.timing_distribution.tabs_tab_switch,
      metrics.timing_distribution.webview_page_load,
      metrics.timing_distribution.glean_database_write_time,
      metrics.timing_distribution.share_deeplink_open_url_startup_time
    ) AS `timing_distribution`,
    STRUCT(
      metrics.quantity.tabs_normal_tabs_quantity,
      metrics.quantity.tabs_private_tabs_quantity,
      metrics.quantity.places_history_migration_num_migrated,
      metrics.quantity.places_history_migration_num_to_migrate,
      metrics.quantity.history_num_visits,
      metrics.quantity.tabs_inactive_tabs_count,
      metrics.quantity.bookmarks_mobile_bookmarks_count,
      metrics.quantity.logins_saved_all,
      metrics.quantity.credit_card_saved_all,
      metrics.quantity.addresses_saved_all,
      metrics.quantity.windows_ipad_window_count
    ) AS `quantity`,
    STRUCT(
      metrics.rate.places_history_migration_migration_ended_rate,
      metrics.rate.places_history_migration_migration_error_rate
    ) AS `rate`,
    STRUCT(metrics.object.nimbus_system_recorded_nimbus_context) AS `object`
  ) AS `metrics`,
  normalized_app_name,
  normalized_country_code,
  normalized_os,
  normalized_os_version,
  ping_info,
  sample_id,
  submission_timestamp,
  app_version_major,
  app_version_minor,
  app_version_patch
FROM
  `moz-fx-data-shared-prod.org_mozilla_ios_fennec.metrics`
