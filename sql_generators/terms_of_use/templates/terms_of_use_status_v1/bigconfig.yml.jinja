type: BIGCONFIG_FILE
table_deployments:
  - collection:
      name: {{ bigeye_collection }}
      notification_channels:
        - slack: '{{ slack_notification_channel }}'

    deployments:
      - fq_table_name: {{ project_id }}.{{ project_id }}.{{ app_name }}_derived.{{ table_name }}
        table_metrics:
          - saved_metric_id: volume
          - saved_metric_id: freshness
        columns:
          - column_name: terms_of_use_date_accepted
            metrics:
              - saved_metric_id: is_not_null
          - column_name: client_id
            metrics:
              - saved_metric_id: is_not_null
          - column_name: normalized_country_code
            metrics:
              - saved_metric_id: is_2_char_len
          - column_name: normalized_channel
            metrics:
              - saved_metric_id: is_99_percent_valid_normalized_channel
