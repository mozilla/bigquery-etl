---
friendly_name: Gecko Trace Calculate Signature
description: |-
  Calculates a signature hash for a trace based on its root span structure.

  Uses a fast hash function (cyrb64) to generate a deterministic signature
  based on the hierarchical structure and attributes of spans in a trace.
  The signature is calculated by traversing the span tree and hashing:
  - Resource attributes (excluding certain internal IDs like gecko_process_internal_id)
  - Scope names
  - Span names
  - Event names and attributes

  This allows grouping traces that have similar structure and content,
  which is useful for performance analysis and anomaly detection of Gecko traces.

  The function returns a string hash that can be used to identify traces with
  similar execution patterns.
