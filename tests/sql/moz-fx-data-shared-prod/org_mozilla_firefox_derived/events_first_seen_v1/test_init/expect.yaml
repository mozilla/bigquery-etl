---
# Test 1: TOU accepted - INCLUDED
- first_submission_timestamp: 2025-10-29T12:00:00+00:00
  client_id: client1-tou-accepted
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client1-tou-profile"
  sample_id: 0
  first_event_timestamp: 2025-10-29T12:00:00+00:00
  event_extra: {version: "1.0"}

# Test 2: Onboarding TOU - INCLUDED
- first_submission_timestamp: 2025-10-29T11:00:00+00:00
  client_id: client2-onboarding-tou
  event: "onboarding#terms_of_service_accepted"
  event_category: "onboarding"
  event_name: "terms_of_service_accepted"
  criteria: "tou_accept"
  profile_group_id: "client2-onboarding-profile"
  sample_id: 1
  first_event_timestamp: 2025-10-29T11:00:00+00:00
  event_extra: {screen: "welcome"}

# Test 3: Multiple TOU - INCLUDED (aggregated to earliest)
- first_submission_timestamp: 2025-10-29T08:00:00+00:00
  client_id: client3-multiple-tou
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client3-tou-profile-1"
  sample_id: 2
  first_event_timestamp: 2025-10-29T08:00:00+00:00
  event_extra: {attempt: 1}

# Test 4: Both TOU types - INCLUDED (2 separate rows)
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client4-both-tou-types
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client4-profile"
  sample_id: 0
  first_event_timestamp: 2025-10-29T10:00:00+00:00
  event_extra: {type: "tou"}
- first_submission_timestamp: 2025-10-29T11:00:00+00:00
  client_id: client4-both-tou-types
  event: "onboarding#terms_of_service_accepted"
  event_category: "onboarding"
  event_name: "terms_of_service_accepted"
  criteria: "tou_accept"
  profile_group_id: "client4-profile"
  sample_id: 0
  first_event_timestamp: 2025-10-29T11:00:00+00:00
  event_extra: {type: "onboarding"}

# Test 5-11: Various exclusions - NOT IN OUTPUT

# Test 12: On cutoff date - INCLUDED
- first_submission_timestamp: 2023-01-01T00:00:00+00:00
  client_id: client12-on-cutoff
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client12-profile"
  sample_id: 0
  first_event_timestamp: 2023-01-01T00:00:00+00:00
  event_extra: {}

# Test 13: NULL fields - INCLUDED
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client13-nulls
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client13-profile"
  sample_id: 0

# Test 14-15: Sample boundaries - INCLUDED
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client14-sample-min
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client14-profile"
  sample_id: 0
  first_event_timestamp: 2025-10-29T10:00:00+00:00
  event_extra: {}
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client15-sample-max
  event: "onboarding#terms_of_service_accepted"
  event_category: "onboarding"
  event_name: "terms_of_service_accepted"
  criteria: "tou_accept"
  profile_group_id: "client15-profile"
  sample_id: 3
  first_event_timestamp: 2025-10-29T10:00:00+00:00
  event_extra: {}

# Test 16: client16-sample-excluded - NOT IN OUTPUT (sample_id >= 4)

# Test 17: Historical - INCLUDED
- first_submission_timestamp: 2023-06-15T10:00:00+00:00
  client_id: client17-historical
  event: "onboarding#terms_of_service_accepted"
  event_category: "onboarding"
  event_name: "terms_of_service_accepted"
  criteria: "tou_accept"
  profile_group_id: "client17-profile"
  sample_id: 0
  first_event_timestamp: 2023-06-15T10:00:00+00:00
  event_extra: {historical: true}

# Test 18: Event ordering - INCLUDED (picks earliest event_timestamp)
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client18-event-ordering
  event: "terms_of_use#accepted"
  event_category: "terms_of_use"
  event_name: "accepted"
  criteria: "tou_accept"
  profile_group_id: "client18-profile-1"
  sample_id: 0
  first_event_timestamp: 2025-10-29T09:00:00+00:00
  event_extra: {order: 1}

# Test 19: NULL timestamp - INCLUDED (picks the one with timestamp)
- first_submission_timestamp: 2025-10-29T10:00:00+00:00
  client_id: client19-null-timestamp
  event: "onboarding#terms_of_service_accepted"
  event_category: "onboarding"
  event_name: "terms_of_service_accepted"
  criteria: "tou_accept"
  profile_group_id: "client19-profile-1"
  sample_id: 0
  first_event_timestamp: 2025-10-29T09:00:00+00:00
  event_extra: {has_timestamp: true}
