fields:
- name: normalized_app_id
  mode: NULLABLE
  type: STRING
  description: App ID of the channel data was received from
- name: normalized_channel
  mode: NULLABLE
  type: STRING
  description: Normalized channel name
- mode: NULLABLE
  name: additional_properties
  type: STRING
  description: A JSON string containing any payload properties not present in the
    schema
- mode: NULLABLE
  name: client_info
  type: RECORD
  fields:
  - name: android_sdk_version
    type: STRING
    description: The optional Android specific SDK version of the software running
      on this hardware device.
  - name: app_build
    type: STRING
    description: The build identifier generated by the CI system (e.g. "1234/A").
      For language bindings that provide automatic detection for this value, (e.g.
      Android/Kotlin), in the unlikely event that the build identifier can not be
      retrieved from the OS, it is set to "inaccessible". For other language bindings,
      if the value was not provided through configuration, this metric gets set to
      `Unknown`.
  - name: app_channel
    type: STRING
    description: The channel the application is being distributed on.
  - name: app_display_version
    type: STRING
    description: The user visible version string (e.g. "1.0.3").  In the unlikely
      event that the display version can not be retrieved, it is set to "inaccessible".
  - name: architecture
    type: STRING
    description: The architecture of the device, (e.g. "arm", "x86").
  - name: client_id
    type: STRING
    description: A UUID uniquely identifying the client.
  - name: device_manufacturer
    type: STRING
    description: The manufacturer of the device the application is running on. Not
      set if the device manufacturer can't be determined (e.g. on Desktop).
  - name: device_model
    type: STRING
    description: The model of the device the application is running on. On Android,
      this is Build.MODEL, the user-visible marketing name, like "Pixel 2 XL". Not
      set if the device model can't be determined (e.g. on Desktop).
  - name: first_run_date
    type: STRING
    description: The date of the first run of the application.
  - name: locale
    type: STRING
    description: The locale of the application during initialization (e.g. "es-ES").
      If the locale can't be determined on the system, the value is ["und"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),
      to indicate "undetermined".
  - name: os
    type: STRING
    description: 'The name of the operating system. Possible values: Android, iOS,
      Linux, Darwin, Windows, FreeBSD, NetBSD, OpenBSD, Solaris, unknown'
  - name: os_version
    type: STRING
    description: The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
  - name: telemetry_sdk_build
    type: STRING
    description: The version of the Glean SDK
  - name: build_date
    type: STRING
    description: The date & time the application was built
  - name: windows_build_number
    type: INTEGER
    description: The optional Windows build number, reported by Windows (e.g. 22000)
      and not set for other platforms
  - name: session_count
    type: INTEGER
    description: An optional running counter of the number of sessions for a client.
  - name: session_id
    type: STRING
    description: An optional UUID uniquely identifying the client's current session.
  - name: attribution
    type: RECORD
    fields:
    - name: campaign
      type: STRING
      description: The attribution campaign (e.g. 'mozilla-org').
    - name: content
      type: STRING
      description: The attribution content (e.g. 'firefoxview').
    - name: medium
      type: STRING
      description: The attribution medium (e.g. 'organic' for a search engine).
    - name: source
      type: STRING
      description: The attribution source (e.g. 'google-play').
    - name: term
      type: STRING
      description: The attribution term (e.g. 'browser with developer tools for android').
    - name: ext
      type: JSON
  - name: distribution
    type: RECORD
    fields:
    - name: name
      type: STRING
      description: The distribution name (e.g. 'MozillaOnline').
    - name: ext
      type: JSON
- mode: NULLABLE
  name: document_id
  type: STRING
  description: The document ID specified in the URI when the client sent this message
- name: events
  type: RECORD
  mode: REPEATED
  fields:
  - name: category
    type: STRING
  - name: extra
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
    - name: value
      type: STRING
  - name: name
    type: STRING
  - name: timestamp
    type: INTEGER
- mode: NULLABLE
  name: metadata
  type: RECORD
  fields:
  - name: geo
    type: RECORD
    fields:
    - name: city
      type: STRING
    - name: country
      type: STRING
      description: An ISO 3166-1 alpha-2 country code
    - name: db_version
      type: STRING
      description: The specific geo database version used for this lookup
    - name: subdivision1
      type: STRING
      description: First major country subdivision, typically a state, province, or
        county
    - name: subdivision2
      type: STRING
      description: Second major country subdivision; not applicable for most countries
    description: Results of a geographic lookup based on the client's IP address
  - name: header
    type: RECORD
    fields:
    - name: date
      type: STRING
      description: Date HTTP header
    - name: dnt
      type: STRING
      description: DNT (Do Not Track) HTTP header
    - name: x_debug_id
      type: STRING
      description: X-Debug-Id HTTP header
    - name: x_pingsender_version
      type: STRING
      description: X-PingSender-Version HTTP header
    - name: x_source_tags
      type: STRING
      description: X-Source-Tags HTTP header
    - name: x_telemetry_agent
      type: STRING
      description: X-Telemetry-Agent HTTP header
    - name: x_foxsec_ip_reputation
      type: STRING
      description: X-Foxsec-IP-Reputation header
    - name: x_lb_tags
      type: STRING
      description: X-LB-Tags HTTP header
    - name: parsed_date
      type: TIMESTAMP
    - name: parsed_x_source_tags
      type: STRING
      mode: REPEATED
    - name: parsed_x_lb_tags
      type: RECORD
      fields:
      - name: tls_version
        type: STRING
      - name: tls_cipher_hex
        type: STRING
    description: Headers included in the client's HTTP request
  - name: isp
    type: RECORD
    fields:
    - name: db_version
      type: STRING
      description: The specific geo ISP database version used for this lookup
    - name: name
      type: STRING
      description: The name of the ISP associated with the client's IP address
    - name: organization
      type: STRING
      description: The name of a specific business entity associated with the client's
        IP address when available; otherwise the ISP name
    description: Results of ISP lookup based on the client's IP address
  - name: user_agent
    type: RECORD
    fields:
    - name: browser
      type: STRING
    - name: os
      type: STRING
    - name: version
      type: STRING
    description: Parsed components of the client's user agent string
- mode: NULLABLE
  name: metrics
  type: RECORD
  fields:
  - name: counter
    type: RECORD
    fields:
    - name: creditcards_sync_outgoing_batches
      type: INTEGER
      description: 'Records the number of batches needed to upload all outgoing records.
        The Sync server has a hard limit on the number of records (and request body
        bytes) on the number of records that can fit into a single batch, and large
        syncs may require multiple batches.

        '
    - name: creditcards_sync_v2_outgoing_batches
      type: INTEGER
      description: 'Records the number of batches needed to upload all outgoing records.
        The Sync server has a hard limit on the number of records (and request body
        bytes) on the number of records that can fit into a single batch, and large
        syncs may require multiple batches.

        '
  - name: datetime
    type: RECORD
    fields:
    - name: creditcards_sync_finished_at
      type: TIMESTAMP
      description: 'Records when the credit cards sync finished. This includes the
        time to download, apply, and upload all records.

        '
    - name: raw_creditcards_sync_finished_at
      type: STRING
    - name: creditcards_sync_started_at
      type: TIMESTAMP
      description: 'Records when the credit cards sync started.

        '
    - name: raw_creditcards_sync_started_at
      type: STRING
    - name: creditcards_sync_v2_finished_at
      type: TIMESTAMP
      description: 'Records when the credit cards sync finished. This includes the
        time to download, apply, and upload all records.

        '
    - name: raw_creditcards_sync_v2_finished_at
      type: STRING
    - name: creditcards_sync_v2_started_at
      type: TIMESTAMP
      description: 'Records when the credit cards sync started.

        '
    - name: raw_creditcards_sync_v2_started_at
      type: STRING
  - name: labeled_counter
    type: RECORD
    fields:
    - name: creditcards_sync_incoming
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Records incoming credit cards record counts. `applied` is the
        number of incoming records that were successfully stored or updated in the
        local database. `failed_to_apply` is the number of records that were ignored
        due to errors. `reconciled` is the number of merged records.

        '
    - name: creditcards_sync_outgoing
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Records outgoing credit cards record counts. `uploaded` is the
        number of records that were successfully sent to the server. `failed_to_upload`
        is the number of records that weren''t uploaded, and will be retried on the
        next sync.

        '
    - name: glean_error_invalid_label
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Counts the number of times a metric was set with an invalid label.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_overflow
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Counts the number of times a metric was set a value that overflowed.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_state
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Counts the number of times a timing metric was used incorrectly.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_value
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Counts the number of times a metric was set to an invalid value.

        The labels are the `category.name` identifier of the metric.

        '
    - name: creditcards_sync_v2_incoming
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Records incoming credit cards record counts. `applied` is the
        number of incoming records that were successfully stored or updated in the
        local database. `failed_to_apply` is the number of records that were ignored
        due to errors. `reconciled` is the number of merged records.

        '
    - name: creditcards_sync_v2_outgoing
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: INTEGER
      description: 'Records outgoing credit cards record counts. `uploaded` is the
        number of records that were successfully sent to the server. `failed_to_upload`
        is the number of records that weren''t uploaded, and will be retried on the
        next sync.

        '
  - name: labeled_string
    type: RECORD
    fields:
    - name: creditcards_sync_failure_reason
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: STRING
      description: 'Records why the credit cards sync failed: either due to an authentication
        error, unexpected exception, or other error. The error strings are truncated
        and sanitized to omit PII, like URLs and file system paths.

        '
    - name: creditcards_sync_v2_failure_reason
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
      - name: value
        type: STRING
      description: 'Records why the credit cards sync failed: either due to an authentication
        error, unexpected exception, or other error. The error strings are truncated
        and sanitized to omit PII, like URLs and file system paths.

        '
  - name: string
    type: RECORD
    fields:
    - name: creditcards_sync_uid
      type: STRING
      description: 'The user''s hashed Firefox Account ID.

        '
    - name: creditcards_sync_v2_uid
      type: STRING
      description: 'The user''s hashed Firefox Account ID.

        '
    - name: glean_client_annotation_experimentation_id
      type: STRING
      description: 'An experimentation identifier derived and provided by the application

        for the purpose of experimentation enrollment.

        '
  - name: string_list
    type: RECORD
    fields:
    - name: glean_ping_uploader_capabilities
      type: STRING
      mode: REPEATED
- mode: NULLABLE
  name: normalized_app_name
  type: STRING
  description: Set to "Other" if this message contained an unrecognized app name
- mode: NULLABLE
  name: normalized_country_code
  type: STRING
  description: An ISO 3166-1 alpha-2 country code
- mode: NULLABLE
  name: normalized_os
  type: STRING
  description: Set to "Other" if this message contained an unrecognized OS name
- mode: NULLABLE
  name: normalized_os_version
  type: STRING
- mode: NULLABLE
  name: ping_info
  type: RECORD
  fields:
  - name: end_time
    type: STRING
  - name: experiments
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
    - name: value
      type: RECORD
      fields:
      - name: branch
        type: STRING
      - name: extra
        type: RECORD
        fields:
        - name: type
          type: STRING
        - name: enrollment_id
          type: STRING
  - name: ping_type
    type: STRING
  - name: reason
    type: STRING
  - name: seq
    type: INTEGER
  - name: start_time
    type: STRING
  - name: parsed_start_time
    type: TIMESTAMP
  - name: parsed_end_time
    type: TIMESTAMP
- mode: NULLABLE
  name: sample_id
  type: INTEGER
  description: Hashed version of client_id (if present) useful for partitioning; ranges
    from 0 to 99
- mode: NULLABLE
  name: submission_timestamp
  type: TIMESTAMP
  description: Time when the ingestion edge server accepted this message
- mode: NULLABLE
  name: app_version_major
  type: NUMERIC
- mode: NULLABLE
  name: app_version_minor
  type: NUMERIC
- mode: NULLABLE
  name: app_version_patch
  type: NUMERIC
- mode: NULLABLE
  name: is_bot_generated
  type: BOOLEAN
