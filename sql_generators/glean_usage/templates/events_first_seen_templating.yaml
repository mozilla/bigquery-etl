# The general structure of this config file is as follows:
#   criteria:
#     - name: <name>
#       sql: <SQL expression>

# To correctly output the name of the criteria inside single quotes, wrap it in single and then double quotes. E.g., "'sidebar'"

apps:
  firefox_desktop:
    criteria_name:
      - CAST(NULL as string)
      - "'chatbot_usage'"
      - "'smart_tabgroup_save'"
      - "'linkpreview_ai_consent'"
    criteria_sql:
      - true
      - event_category = 'genai.chatbot' AND event_name = 'sidebar_toggle' AND JSON_VALUE(event_extra.provider) <> 'none'
      - event_category = 'tabgroup' AND ((event_name = 'smart_tab_suggest' AND JSON_VALUE(event_extra.action) LIKE 'save%') OR (event_name = 'smart_tab_topic' AND JSON_VALUE(event_extra.action) = 'save'))
      - event_category = 'genai.linkpreview' AND event_name = 'card_ai_consent' AND JSON_VALUE(event_extra.option) = 'continue'
