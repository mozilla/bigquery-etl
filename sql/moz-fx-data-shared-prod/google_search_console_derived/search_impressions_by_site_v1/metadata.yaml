friendly_name: Search Impressions By Site
description: |-
  Google Search impressions aggregated by site, synced by Fivetran to BigQuery for the following domains:
    * addons.mozilla.org
    * blog.mozilla.org
    * developer.mozilla.org
    * getpocket.com
    * support.mozilla.org
    * www.mozilla.org

  The data has the following limitations:
    * For each site only the top ~50,000 rows of data per day per search type is included (prioritized by number of clicks).
    * Anonymized search queries aren't included.

  For the developer.mozilla.org domain, we stopped syncing Google Search Console data with Fivetran in May 2024.
  See https://bugzilla.mozilla.org/show_bug.cgi?id=1890816.

  For the other domains, we stopped syncing Google Search Console data with Fivetran in August 2023.
  See https://bugzilla.mozilla.org/show_bug.cgi?id=1764960#c44.
owners:
- srose@mozilla.com
labels:
  incremental: true
  owner1: srose
scheduling:
  date_partition_parameter: date
  date_partition_offset: -7
bigquery:
  time_partitioning:
    type: day
    field: date
    require_partition_filter: false
    expiration_days: null
  range_partitioning: null
  clustering:
    fields:
    - site_domain_name
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:mozilla-confidential
references:
  query.sql:
  - moz-fx-data-bq-fivetran.google_search_console_addons.keyword_site_report_by_site
  - moz-fx-data-bq-fivetran.google_search_console_blog.keyword_site_report_by_site
  - moz-fx-data-bq-fivetran.google_search_console_mdn.keyword_site_report_by_site
  - moz-fx-data-bq-fivetran.google_search_console_pocket.keyword_site_report_by_site
  - moz-fx-data-bq-fivetran.google_search_console_support.keyword_site_report_by_site
  - moz-fx-data-bq-fivetran.google_search_console_www.keyword_site_report_by_site
require_column_descriptions: false
