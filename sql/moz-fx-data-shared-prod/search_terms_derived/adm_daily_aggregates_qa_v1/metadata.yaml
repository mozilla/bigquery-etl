friendly_name: Adm Daily Aggregates QA
description: |-
  This is a table that is used to alert if there are less than 100 rows produced on a given date

  Note: This table processes data from 2 days ago, matching the offset of the upstream
  adm_daily_aggregates_v1 table it validates.
  This is a temporary measure until the Merino sanitization job is further optimized.
owners:
- kwindau@mozilla.com
labels:
  incremental: true
  owner1: kwindau
  dag: bqetl_search_terms_daily
scheduling:
  dag_name: bqetl_search_terms_daily
  date_partition_offset: -1
bigquery:
  time_partitioning:
    type: day
    field: submission_date
    require_partition_filter: false
    expiration_days: null
workgroup_access:
- role: roles/bigquery.metadataViewer
  members:
  - workgroup:search-terms/external-outerbounds-task-search-terms-sanitized
  - workgroup:search-terms/sanitized-writer
references:
  checks.sql:
  - ..
  query.sql:
  - moz-fx-data-shared-prod.search_terms_derived.adm_daily_aggregates_v1
