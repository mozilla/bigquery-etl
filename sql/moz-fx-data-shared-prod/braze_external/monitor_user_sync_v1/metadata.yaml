friendly_name: Monitor Plus Sync
description: |-
  Temporary table used to sync Monitor Plus Users table to sync to Braze for a
  one-time send. These users will need to be deleted once the sync
  is successful in order to keep Braze clean
owners:
- sherrera@mozilla.com
- cbeck@mozilla.com
labels:
  owner: sherrera
  dag: bqetl_braze_monitor_plus_users_sync
  owner1: sherrera
  owner2: cbeck
scheduling:
  dag_name: bqetl_braze_monitor_plus_users_sync
  depends_on_tables_existing:
  - task_id: wait_for_braze_monitor_plus_users_v1
    table_id: moz-fx-data-shared-prod.braze_derived.monitor_plus_users_v1
    timeout: 10h
    retries: 1
    retry_delay: 30m
  date_partition_parameter: null
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:braze/data-viewers
  - workgroup:braze/ingestion-firefox
  - workgroup:braze/ingestion-mozilla-dev
- role: roles/bigquery.dataEditor
  members:
  - workgroup:braze/data-developers
references:
  query.sql:
  - moz-fx-data-shared-prod.braze_derived.monitor_plus_users_v1
  - moz-fx-data-shared-prod.braze_external.monitor_plus_sunset_v1
require_column_descriptions: false
level: null
