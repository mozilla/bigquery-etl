---
# Test 1: New event - uses current data
- client_id: client1-new
  profile_group_id: "client1-new-profile"
  sample_id: 0
  event_category: "client1-new-event-category"
  event_name: "client1-new-event-name"
  criteria: "any_event"
  event: "client1-new-event"
  first_submission_timestamp: 2025-10-29T12:00:00+00:00
  first_event_timestamp: 2025-10-29T12:00:00+00:00
  event_extra: {date: 2025-10-29}

# Test 3: Multiple events - aggregated to minimum
- client_id: client3-multiple
  profile_group_id: "client3-multiple-profile"
  sample_id: 2
  event_category: "client3-multiple-event-category"
  event_name: "client3-multiple-event-name"
  criteria: "any_event"
  event: "client3-multiple-event"
  first_submission_timestamp: 2025-10-29T08:00:00+00:00
  first_event_timestamp: 2025-10-29T08:00:00+00:00
  event_extra: {date: 2025-10-29, sequence: 1}

# Test 4: Different profiles - collapsed to ONE record (min_by aggregation)
- client_id: client4-profiles
  profile_group_id: "profile-a"
  sample_id: 3
  event_category: "client4-event-category"
  event_name: "client4-event-name"
  criteria: "any_event"
  event: "client4-event"
  first_submission_timestamp: 2025-10-29T10:00:00+00:00
  first_event_timestamp: 2025-10-29T10:00:00+00:00
  event_extra: {profile: a}
