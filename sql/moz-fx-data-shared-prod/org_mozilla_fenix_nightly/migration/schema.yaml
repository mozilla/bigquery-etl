fields:
- name: additional_properties
  type: STRING
  mode: NULLABLE
  description: A JSON string containing any payload properties not present in the
    schema
- name: client_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: android_sdk_version
    type: STRING
    mode: NULLABLE
    description: The optional Android specific SDK version of the software running
      on this hardware device.
  - name: app_build
    type: STRING
    mode: NULLABLE
    description: The build identifier generated by the CI system (e.g. "1234/A").
      For language bindings that provide automatic detection for this value, (e.g.
      Android/Kotlin), in the unlikely event that the build identifier can not be
      retrieved from the OS, it is set to "inaccessible". For other language bindings,
      if the value was not provided through configuration, this metric gets set to
      `Unknown`.
  - name: app_channel
    type: STRING
    mode: NULLABLE
    description: The channel the application is being distributed on.
  - name: app_display_version
    type: STRING
    mode: NULLABLE
    description: The user visible version string (e.g. "1.0.3").  In the unlikely
      event that the display version can not be retrieved, it is set to "inaccessible".
  - name: architecture
    type: STRING
    mode: NULLABLE
    description: The architecture of the device, (e.g. "arm", "x86").
  - name: client_id
    type: STRING
    mode: NULLABLE
    description: A UUID uniquely identifying the client.
  - name: device_manufacturer
    type: STRING
    mode: NULLABLE
    description: The manufacturer of the device the application is running on. Not
      set if the device manufacturer can't be determined (e.g. on Desktop).
  - name: device_model
    type: STRING
    mode: NULLABLE
    description: The model of the device the application is running on. On Android,
      this is Build.MODEL, the user-visible marketing name, like "Pixel 2 XL". Not
      set if the device model can't be determined (e.g. on Desktop).
  - name: first_run_date
    type: STRING
    mode: NULLABLE
    description: The date of the first run of the application.
  - name: locale
    type: STRING
    mode: NULLABLE
    description: The locale of the application during initialization (e.g. "es-ES").
      If the locale can't be determined on the system, the value is ["und"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),
      to indicate "undetermined".
  - name: os
    type: STRING
    mode: NULLABLE
    description: 'The name of the operating system. Possible values: Android, iOS,
      Linux, Darwin, Windows, FreeBSD, NetBSD, OpenBSD, Solaris, unknown'
  - name: os_version
    type: STRING
    mode: NULLABLE
    description: The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
  - name: telemetry_sdk_build
    type: STRING
    mode: NULLABLE
    description: The version of the Glean SDK
  - name: build_date
    type: STRING
    mode: NULLABLE
    description: The date & time the application was built
  - name: windows_build_number
    type: INTEGER
    mode: NULLABLE
    description: The optional Windows build number, reported by Windows (e.g. 22000)
      and not set for other platforms
- name: document_id
  type: STRING
  mode: NULLABLE
  description: The document ID specified in the URI when the client sent this message
- name: events
  type: RECORD
  mode: REPEATED
  fields:
  - name: category
    type: STRING
    mode: NULLABLE
  - name: extra
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: STRING
      mode: NULLABLE
  - name: name
    type: STRING
    mode: NULLABLE
  - name: timestamp
    type: INTEGER
    mode: NULLABLE
- name: metadata
  type: RECORD
  mode: NULLABLE
  fields:
  - name: geo
    type: RECORD
    mode: NULLABLE
    fields:
    - name: city
      type: STRING
      mode: NULLABLE
    - name: country
      type: STRING
      mode: NULLABLE
      description: An ISO 3166-1 alpha-2 country code
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo database version used for this lookup
    - name: subdivision1
      type: STRING
      mode: NULLABLE
      description: First major country subdivision, typically a state, province, or
        county
    - name: subdivision2
      type: STRING
      mode: NULLABLE
      description: Second major country subdivision; not applicable for most countries
    description: Results of a geographic lookup based on the client's IP address
  - name: header
    type: RECORD
    mode: NULLABLE
    fields:
    - name: date
      type: STRING
      mode: NULLABLE
      description: Date HTTP header
    - name: dnt
      type: STRING
      mode: NULLABLE
      description: DNT (Do Not Track) HTTP header
    - name: x_debug_id
      type: STRING
      mode: NULLABLE
      description: X-Debug-Id HTTP header
    - name: x_pingsender_version
      type: STRING
      mode: NULLABLE
      description: X-PingSender-Version HTTP header
    - name: x_source_tags
      type: STRING
      mode: NULLABLE
      description: X-Source-Tags HTTP header
    - name: x_telemetry_agent
      type: STRING
      mode: NULLABLE
      description: X-Telemetry-Agent HTTP header
    - name: x_foxsec_ip_reputation
      type: STRING
      mode: NULLABLE
      description: X-Foxsec-IP-Reputation header
    - name: x_lb_tags
      type: STRING
      mode: NULLABLE
      description: X-LB-Tags HTTP header
    - name: parsed_date
      type: TIMESTAMP
      mode: NULLABLE
    - name: parsed_x_source_tags
      type: STRING
      mode: REPEATED
    - name: parsed_x_lb_tags
      type: RECORD
      mode: NULLABLE
      fields:
      - name: tls_version
        type: STRING
        mode: NULLABLE
      - name: tls_cipher_hex
        type: STRING
        mode: NULLABLE
    description: Headers included in the client's HTTP request
  - name: user_agent
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser
      type: STRING
      mode: NULLABLE
    - name: os
      type: STRING
      mode: NULLABLE
    - name: version
      type: STRING
      mode: NULLABLE
    description: Parsed components of the client's user agent string
  - name: isp
    type: RECORD
    mode: NULLABLE
    fields:
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo ISP database version used for this lookup
    - name: name
      type: STRING
      mode: NULLABLE
      description: The name of the ISP associated with the client's IP address
    - name: organization
      type: STRING
      mode: NULLABLE
      description: The name of a specific business entity associated with the client's
        IP address when available; otherwise the ISP name
    description: Results of ISP lookup based on the client's IP address
- name: metrics
  type: RECORD
  mode: NULLABLE
  fields:
  - name: boolean
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_addons_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_bookmarks_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_fxa_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_fxa_has_custom_idp_server
      type: BOOLEAN
      mode: NULLABLE
      description: 'Is custom idp server configured?

        '
    - name: migration_fxa_has_custom_token_server
      type: BOOLEAN
      mode: NULLABLE
      description: 'Is custom token server configured?

        '
    - name: migration_gecko_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_history_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_logins_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_open_tabs_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_settings_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_settings_telemetry_enabled
      type: BOOLEAN
      mode: NULLABLE
      description: 'Is telemetry enabled after this migration?

        '
    - name: migration_telemetry_identifiers_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_search_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
    - name: migration_pinned_sites_any_failures
      type: BOOLEAN
      mode: NULLABLE
      description: 'Did this migration encounter any failures (exceptions)?

        '
  - name: counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_addons_failed_addons
      type: INTEGER
      mode: NULLABLE
      description: 'How many addons failed to migrate?

        '
    - name: migration_addons_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_addons_migrated_addons
      type: INTEGER
      mode: NULLABLE
      description: 'How many addons were migrated?

        '
    - name: migration_addons_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_bookmarks_detected
      type: INTEGER
      mode: NULLABLE
      description: 'Total number of detected bookmarks prior to a migration.

        '
    - name: migration_fxa_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_fxa_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_history_detected
      type: INTEGER
      mode: NULLABLE
      description: 'Total number of detected history items prior to a migration.

        '
    - name: migration_logins_detected
      type: INTEGER
      mode: NULLABLE
      description: 'How many logins were detected?

        '
    - name: migration_logins_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_logins_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_logins_unsupported_db_version
      type: INTEGER
      mode: NULLABLE
      description: 'If we couldn''t migrate due to an unsupported db version, what
        was it?

        '
    - name: migration_open_tabs_detected
      type: INTEGER
      mode: NULLABLE
      description: 'Number of detected open tabs.

        '
    - name: migration_open_tabs_migrated
      type: INTEGER
      mode: NULLABLE
      description: 'Number of migrated open tabs.

        '
    - name: migration_settings_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_settings_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_bookmarks_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_bookmarks_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_gecko_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_gecko_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_history_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_history_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_open_tabs_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_open_tabs_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_telemetry_identifiers_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_telemetry_identifiers_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_search_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_search_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
    - name: migration_pinned_sites_detected_pinned_sites
      type: INTEGER
      mode: NULLABLE
      description: 'How many pinned sites were detected?

        '
    - name: migration_pinned_sites_failure_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration failed. See codes in TelemetryHelpers.kt

        '
    - name: migration_pinned_sites_migrated_pinned_sites
      type: INTEGER
      mode: NULLABLE
      description: 'How many pinned sites were migrated?

        '
    - name: migration_pinned_sites_success_reason
      type: INTEGER
      mode: NULLABLE
      description: 'Why this migration succeeded. See codes in TelemetryHelpers.kt

        '
  - name: datetime
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_telemetry_identifiers_fennec_profile_creation_date
      type: TIMESTAMP
      mode: NULLABLE
      description: 'Records when the migrated Fennec profile was created.

        '
    - name: raw_migration_telemetry_identifiers_fennec_profile_creation_date
      type: STRING
      mode: NULLABLE
  - name: labeled_counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_invalid_label
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set with an invalid label.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_overflow
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set a value that overflowed.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_state
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a timing metric was used incorrectly.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_value
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set to an invalid value.

        The labels are the `category.name` identifier of the metric.

        '
    - name: migration_bookmarks_migrated
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counters describing how bookmark migration went; should add-up
        to ''migration.bookmarks.detected''.

        '
    - name: migration_history_migrated
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counters describing how history migration went; should add-up
        to ''migration.history.detected''.

        '
    - name: migration_logins_failure_counts
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'How many logins failed to be migrated, and in which ways?

        '
  - name: labeled_string
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_migration_versions
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: STRING
        mode: NULLABLE
      description: 'Versions of the migrations which were executed.

        '
  - name: string
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_fxa_bad_auth_state
      type: STRING
      mode: NULLABLE
      description: 'If we couldn''t migrate due to a bad auth state, what was it?

        '
    - name: migration_fxa_failure_reason_rust
      type: STRING
      mode: NULLABLE
      description: 'Why this migration failed (rust exception).

        '
    - name: migration_fxa_unsupported_account_version
      type: STRING
      mode: NULLABLE
      description: 'What is the detected unsupported account version?

        '
    - name: migration_fxa_unsupported_pickle_version
      type: STRING
      mode: NULLABLE
      description: 'What is the detected unsupported pickle version?

        '
    - name: migration_fxa_unsupported_state_version
      type: STRING
      mode: NULLABLE
      description: 'What is the detected unsupported state version?

        '
  - name: timespan
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_bookmarks_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Duration of the bookmarks migration (Rust operations).

        '
    - name: migration_history_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Duration of the history migration (Rust operations).

        '
    - name: migration_addons_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_bookmarks_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_fxa_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_gecko_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_history_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_logins_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_open_tabs_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_pinned_sites_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_search_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_settings_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
    - name: migration_telemetry_identifiers_total_duration
      type: RECORD
      mode: NULLABLE
      fields:
      - name: time_unit
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Total duration of this migration.

        '
  - name: uuid
    type: RECORD
    mode: NULLABLE
    fields:
    - name: migration_telemetry_identifiers_fennec_client_id
      type: STRING
      mode: NULLABLE
      description: 'Records clientID of the migrated Fennec profile.

        '
- name: normalized_app_name
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized app name
- name: normalized_channel
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized channel name
- name: normalized_country_code
  type: STRING
  mode: NULLABLE
  description: An ISO 3166-1 alpha-2 country code
- name: normalized_os
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized OS name
- name: normalized_os_version
  type: STRING
  mode: NULLABLE
- name: ping_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: end_time
    type: STRING
    mode: NULLABLE
  - name: experiments
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: RECORD
      mode: NULLABLE
      fields:
      - name: branch
        type: STRING
        mode: NULLABLE
      - name: extra
        type: RECORD
        mode: NULLABLE
        fields:
        - name: type
          type: STRING
          mode: NULLABLE
        - name: enrollment_id
          type: STRING
          mode: NULLABLE
  - name: ping_type
    type: STRING
    mode: NULLABLE
  - name: reason
    type: STRING
    mode: NULLABLE
  - name: seq
    type: INTEGER
    mode: NULLABLE
  - name: start_time
    type: STRING
    mode: NULLABLE
  - name: parsed_start_time
    type: TIMESTAMP
    mode: NULLABLE
  - name: parsed_end_time
    type: TIMESTAMP
    mode: NULLABLE
- name: sample_id
  type: INTEGER
  mode: NULLABLE
  description: Hashed version of client_id (if present) useful for partitioning; ranges
    from 0 to 99
- name: submission_timestamp
  type: TIMESTAMP
  mode: NULLABLE
  description: Time when the ingestion edge server accepted this message
