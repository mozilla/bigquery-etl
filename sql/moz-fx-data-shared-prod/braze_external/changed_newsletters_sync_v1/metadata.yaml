friendly_name: Braze Changed Newsletters Sync
description: |-
  Changes in newsletter subscriptions from the previous day. In order to consume the least amount
  of data points, we only want to sync rows changed since the last sync. This table holds
  all of the changed newsletter subscription data that syncs to braze.

  See https://mozilla-hub.atlassian.net/browse/DENG-3182
owners:
- cbeck@mozilla.com
labels:
  incremental: true
  owner: cbeck
  dag: bqetl_braze
  owner1: cbeck
scheduling:
  dag_name: bqetl_braze
  date_partition_parameter: null
  arguments:
  - --append_table
  - --noreplace
bigquery:
  time_partitioning: null
  range_partitioning: null
  clustering: null
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:braze
  - workgroup:braze/ingestion-firefox
  - workgroup:braze/ingestion-mozilla-dev
- role: roles/bigquery.dataEditor
  members:
  - workgroup:braze/data-developers
references:
  checks.sql:
  - ..
  query.sql:
  - moz-fx-data-shared-prod.braze_derived.newsletters_v1
  - moz-fx-data-shared-prod.braze_external.changed_newsletters_sync_v1
require_column_descriptions: false
