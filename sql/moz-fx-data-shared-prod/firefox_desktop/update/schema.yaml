fields:
- name: additional_properties
  type: STRING
  mode: NULLABLE
  description: A JSON string containing any payload properties not present in the
    schema
- name: client_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: android_sdk_version
    type: STRING
    mode: NULLABLE
    description: The optional Android specific SDK version of the software running
      on this hardware device.
  - name: app_build
    type: STRING
    mode: NULLABLE
    description: The build identifier generated by the CI system (e.g. "1234/A").
      For language bindings that provide automatic detection for this value, (e.g.
      Android/Kotlin), in the unlikely event that the build identifier can not be
      retrieved from the OS, it is set to "inaccessible". For other language bindings,
      if the value was not provided through configuration, this metric gets set to
      `Unknown`.
  - name: app_channel
    type: STRING
    mode: NULLABLE
    description: The channel the application is being distributed on.
  - name: app_display_version
    type: STRING
    mode: NULLABLE
    description: The user visible version string (e.g. "1.0.3").  In the unlikely
      event that the display version can not be retrieved, it is set to "inaccessible".
  - name: architecture
    type: STRING
    mode: NULLABLE
    description: The architecture of the device, (e.g. "arm", "x86").
  - name: attribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: campaign
      type: STRING
      mode: NULLABLE
      description: The attribution campaign (e.g. 'mozilla-org').
    - name: content
      type: STRING
      mode: NULLABLE
      description: The attribution content (e.g. 'firefoxview').
    - name: medium
      type: STRING
      mode: NULLABLE
      description: The attribution medium (e.g. 'organic' for a search engine).
    - name: source
      type: STRING
      mode: NULLABLE
      description: The attribution source (e.g. 'google-play').
    - name: term
      type: STRING
      mode: NULLABLE
      description: The attribution term (e.g. 'browser with developer tools for android').
    - name: ext
      type: JSON
      mode: NULLABLE
  - name: build_date
    type: STRING
    mode: NULLABLE
    description: The date & time the application was built
  - name: client_id
    type: STRING
    mode: NULLABLE
    description: A UUID uniquely identifying the client.
  - name: device_manufacturer
    type: STRING
    mode: NULLABLE
    description: The manufacturer of the device the application is running on. Not
      set if the device manufacturer can't be determined (e.g. on Desktop).
  - name: device_model
    type: STRING
    mode: NULLABLE
    description: The model of the device the application is running on. On Android,
      this is Build.MODEL, the user-visible marketing name, like "Pixel 2 XL". Not
      set if the device model can't be determined (e.g. on Desktop).
  - name: distribution
    type: RECORD
    mode: NULLABLE
    fields:
    - name: name
      type: STRING
      mode: NULLABLE
      description: The distribution name (e.g. 'MozillaOnline').
    - name: ext
      type: JSON
      mode: NULLABLE
  - name: first_run_date
    type: STRING
    mode: NULLABLE
    description: The date of the first run of the application.
  - name: locale
    type: STRING
    mode: NULLABLE
    description: The locale of the application during initialization (e.g. "es-ES").
      If the locale can't be determined on the system, the value is ["und"](https://unicode.org/reports/tr35/#Unknown_or_Invalid_Identifiers),
      to indicate "undetermined".
  - name: os
    type: STRING
    mode: NULLABLE
    description: 'The name of the operating system. Possible values: Android, iOS,
      Linux, Darwin, Windows, FreeBSD, NetBSD, OpenBSD, Solaris, unknown'
  - name: os_version
    type: STRING
    mode: NULLABLE
    description: The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
  - name: session_count
    type: INTEGER
    mode: NULLABLE
    description: An optional running counter of the number of sessions for a client.
  - name: session_id
    type: STRING
    mode: NULLABLE
    description: An optional UUID uniquely identifying the client's current session.
  - name: telemetry_sdk_build
    type: STRING
    mode: NULLABLE
    description: The version of the Glean SDK
  - name: windows_build_number
    type: INTEGER
    mode: NULLABLE
    description: The optional Windows build number, reported by Windows (e.g. 22000)
      and not set for other platforms
- name: document_id
  type: STRING
  mode: NULLABLE
  description: The document ID specified in the URI when the client sent this message
- name: events
  type: RECORD
  mode: REPEATED
  fields:
  - name: category
    type: STRING
    mode: NULLABLE
  - name: extra
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: STRING
      mode: NULLABLE
  - name: name
    type: STRING
    mode: NULLABLE
  - name: timestamp
    type: INTEGER
    mode: NULLABLE
- name: metadata
  type: RECORD
  mode: NULLABLE
  fields:
  - name: geo
    type: RECORD
    mode: NULLABLE
    fields:
    - name: city
      type: STRING
      mode: NULLABLE
    - name: country
      type: STRING
      mode: NULLABLE
      description: An ISO 3166-1 alpha-2 country code
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo database version used for this lookup
    - name: subdivision1
      type: STRING
      mode: NULLABLE
      description: First major country subdivision, typically a state, province, or
        county
    - name: subdivision2
      type: STRING
      mode: NULLABLE
      description: Second major country subdivision; not applicable for most countries
    description: Results of a geographic lookup based on the client's IP address
  - name: header
    type: RECORD
    mode: NULLABLE
    fields:
    - name: date
      type: STRING
      mode: NULLABLE
      description: Date HTTP header
    - name: dnt
      type: STRING
      mode: NULLABLE
      description: DNT (Do Not Track) HTTP header
    - name: x_debug_id
      type: STRING
      mode: NULLABLE
      description: X-Debug-Id HTTP header
    - name: x_foxsec_ip_reputation
      type: STRING
      mode: NULLABLE
      description: X-Foxsec-IP-Reputation header
    - name: x_lb_tags
      type: STRING
      mode: NULLABLE
      description: X-LB-Tags HTTP header
    - name: x_pingsender_version
      type: STRING
      mode: NULLABLE
      description: X-PingSender-Version HTTP header
    - name: x_source_tags
      type: STRING
      mode: NULLABLE
      description: X-Source-Tags HTTP header
    - name: x_telemetry_agent
      type: STRING
      mode: NULLABLE
      description: X-Telemetry-Agent HTTP header
    - name: parsed_date
      type: TIMESTAMP
      mode: NULLABLE
    - name: parsed_x_source_tags
      type: STRING
      mode: REPEATED
    - name: parsed_x_lb_tags
      type: RECORD
      mode: NULLABLE
      fields:
      - name: tls_version
        type: STRING
        mode: NULLABLE
      - name: tls_cipher_hex
        type: STRING
        mode: NULLABLE
    description: Headers included in the client's HTTP request
  - name: isp
    type: RECORD
    mode: NULLABLE
    fields:
    - name: db_version
      type: STRING
      mode: NULLABLE
      description: The specific geo ISP database version used for this lookup
    - name: name
      type: STRING
      mode: NULLABLE
      description: The name of the ISP associated with the client's IP address
    - name: organization
      type: STRING
      mode: NULLABLE
      description: The name of a specific business entity associated with the client's
        IP address when available; otherwise the ISP name
    description: Results of ISP lookup based on the client's IP address
  - name: user_agent
    type: RECORD
    mode: NULLABLE
    fields:
    - name: browser
      type: STRING
      mode: NULLABLE
    - name: os
      type: STRING
      mode: NULLABLE
    - name: version
      type: STRING
      mode: NULLABLE
    description: Parsed components of the client's user agent string
- name: metrics
  type: RECORD
  mode: NULLABLE
  fields:
  - name: boolean
    type: RECORD
    mode: NULLABLE
    fields:
    - name: system_has_win_package_id
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the app has a package identity.

        Windows only.

        '
    - name: system_is_wow_64
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether we''re in Windows32-on-Windows64 mode.

        Windows only.

        '
    - name: system_is_wow_arm_64
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether we''re in Windows32-on-WindowsForArm64 mode.

        Windows only.

        '
    - name: update_settings_auto_download
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether app updates are set to auto-download.

        '
    - name: update_settings_background
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether updates can be delivered in the background.

        '
    - name: update_settings_enabled
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether updates are available.

        '
    - name: updater_available
      type: BOOLEAN
      mode: NULLABLE
      description: 'Whether the app was built with the updater binary.

        Corresponds to the value of the `MOZ_UPDATER` define.

        '
  - name: labeled_counter
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_error_invalid_label
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set with an invalid label.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_overflow
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set a value that overflowed.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_state
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a timing metric was used incorrectly.

        The labels are the `category.name` identifier of the metric.

        '
    - name: glean_error_invalid_value
      type: RECORD
      mode: REPEATED
      fields:
      - name: key
        type: STRING
        mode: NULLABLE
      - name: value
        type: INTEGER
        mode: NULLABLE
      description: 'Counts the number of times a metric was set to an invalid value.

        The labels are the `category.name` identifier of the metric.

        '
  - name: object
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_attribution_ext
      type: JSON
      mode: NULLABLE
      description: "Extended attribution information.\nMapped to client_info.attribution.ext\
        \ in datasets.\n* `experiment`: name/id of the enrolled funnel experiment\n\
        * `variation`: name/id of the variation cohort used in the enrolled funnel\
        \ experiment\n* `ua`: identifier derived from the user agent downloading the\
        \ installer\n        e.g. chrome, Google Chrome 123\n* `dltoken`: Unique token\
        \ created at Firefox download time.\n             e.g. c18f86a3-f228-4d98-91bb-f90135c0aa9c\n\
        * `msstoresignedin`: only present if the installation was done through the\
        \ Microsoft Store,\n                     and was able to retrieve the \"campaign\
        \ ID\" it was first installed with.\n                     This value is \"\
        true\" if the user was signed into the Microsoft Store\n                 \
        \    when they first installed, and false otherwise.\n* `dlsource`: identifier\
        \ that indicate where installations of Firefox originate\n"
    - name: glean_distribution_ext
      type: JSON
      mode: NULLABLE
      description: 'Extended distribution information.

        Mapped to client_info.distribution.ext in datasets.

        * `distributionVersion`: pref `distribution.version`, `null` on failure

        * `partnerId`: pref `mozilla.partner.id`, `null` on failure

        * `distributor`:  pref `app.distributor`, `null` on failure

        * `distributorChannel`: pref `app.distributor.channel`, `null` on failure

        * `partnerNames`: list from prefs `app.partner.<name>=<name>`

        '
    - name: hdd_binary
      type: JSON
      mode: NULLABLE
      description: 'Information about the disk the application binary is stored on.

        Windows only.

        * model - The disk''s self-reported model string

        * revision - The disk''s self-reported revision string

        * diskType - Either "HDD" or "SSD"

        '
    - name: hdd_profile
      type: JSON
      mode: NULLABLE
      description: 'Information about the disk the profile is stored on.

        Windows only.

        * model - The disk''s self-reported model string

        * revision - The disk''s self-reported revision string

        * diskType - Either "HDD" or "SSD"

        '
    - name: hdd_system
      type: JSON
      mode: NULLABLE
      description: 'Information about the disk the system files are stored on.

        Windows only.

        * model - The disk''s self-reported model string

        * revision - The disk''s self-reported revision string

        * diskType - Either "HDD" or "SSD"

        '
    - name: preferences_user_prefs
      type: JSON
      mode: NULLABLE
      description: 'The fossilized remains of the Legacy Telemetry Environment''s

        `settings.userPrefs` structure.

        A list of pref names and values.

        Some values will be the string "<user-set>" to obscure the value.

        Do not add more prefs to this list.

        Prefer instead to instrument your prefs directly with individual metrics.

        See Environment.sys.mjs'' `DEFAULT_ENVIRONMENT_PREFS`.

        '
  - name: quantity
    type: RECORD
    mode: NULLABLE
    fields:
    - name: profiles_creation_date
      type: INTEGER
      mode: NULLABLE
      description: 'The day the profile was created,

        as determined by checking various file metadata in the profile directory.

        Not considered to be particularly reliable in practice.

        Prefer `client_info.first_run_date` in most cases.

        e.g. 16446

        '
    - name: profiles_first_use_date
      type: INTEGER
      mode: NULLABLE
      description: 'Optional.

        The day the profile was first used,

        as determined by noticing that `times.json` wasn''t present.

        Prefer `client_info.first_run_date` in most cases.

        e.g. 16446

        '
    - name: profiles_recovered_from_backup
      type: INTEGER
      mode: NULLABLE
      description: 'Optional.

        The day the profile was recovered from backup,

        persisted in `times.json`.

        e.g. 16446

        '
    - name: profiles_reset_date
      type: INTEGER
      mode: NULLABLE
      description: 'Optional.

        The day the profile was most recently reset,

        persisted in `times.json`.

        e.g. 16446

        '
    - name: system_cpu_big_cores
      type: INTEGER
      mode: NULLABLE
      description: 'Big (or Performance) CPU cores.

        '
    - name: system_cpu_family
      type: INTEGER
      mode: NULLABLE
      description: 'CPU family.

        '
    - name: system_cpu_l2_cache
      type: INTEGER
      mode: NULLABLE
      description: 'L2 cache size (only on Windows and Mac).

        '
    - name: system_cpu_l3_cache
      type: INTEGER
      mode: NULLABLE
      description: 'L3 cache size.

        '
    - name: system_cpu_little_cores
      type: INTEGER
      mode: NULLABLE
      description: 'Little (or Efficient) CPU cores.

        '
    - name: system_cpu_logical_cores
      type: INTEGER
      mode: NULLABLE
      description: 'Logical CPU cores.

        '
    - name: system_cpu_medium_cores
      type: INTEGER
      mode: NULLABLE
      description: 'Medium CPU cores.

        '
    - name: system_cpu_model
      type: INTEGER
      mode: NULLABLE
      description: 'CPU model.

        '
    - name: system_cpu_physical_cores
      type: INTEGER
      mode: NULLABLE
      description: 'Physical CPU cores.

        '
    - name: system_cpu_speed
      type: INTEGER
      mode: NULLABLE
      description: 'CPU speed in MHz.

        '
    - name: system_cpu_stepping
      type: INTEGER
      mode: NULLABLE
      description: 'CPU stepping.

        '
    - name: system_memory
      type: INTEGER
      mode: NULLABLE
      description: 'The physical memory size in MB (2^20 bytes).

        e.g. 32211

        '
    - name: system_os_service_pack_major
      type: INTEGER
      mode: NULLABLE
      description: 'The Windows service pack''s major version, according to WindowsVersionInfo.

        Windows only.

        e.g. 0

        '
    - name: system_os_service_pack_minor
      type: INTEGER
      mode: NULLABLE
      description: 'The Windows service pack''s minor version, according to WindowsVersionInfo.

        Windows only.

        e.g. 0

        '
    - name: system_os_windows_build_number
      type: INTEGER
      mode: NULLABLE
      description: 'The Windows build number, according to WindowsVersionInfo.

        Windows only.

        e.g. 26100

        Expected in most cases to be identical to `client_info.windows_build_number`.

        '
    - name: system_os_windows_ubr
      type: INTEGER
      mode: NULLABLE
      description: 'The Windows update build revision number, according to

        `SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion`.

        Windows only.

        e.g. 3775

        '
    - name: system_virtual_memory
      type: INTEGER
      mode: NULLABLE
      description: 'The size of the user-mode portion of the virtual address space
        of the parent process.

        Windows only.

        e.g. 134217728

        '
  - name: string
    type: RECORD
    mode: NULLABLE
    fields:
    - name: glean_client_annotation_experimentation_id
      type: STRING
      mode: NULLABLE
      description: 'An experimentation identifier derived and provided by the application

        for the purpose of experimentation enrollment.

        '
    - name: system_cpu_name
      type: STRING
      mode: NULLABLE
      description: 'The user readable CPU name. (e.g. "Intel(R) Core(TM) i9-8950HK
        CPU @ 2.90GHz")

        '
    - name: system_cpu_vendor
      type: STRING
      mode: NULLABLE
      description: 'The CPU vendor (e.g. "GenuineIntel").

        '
    - name: system_os_distro
      type: STRING
      mode: NULLABLE
      description: 'The Operating System''s distribution, according to sysinfo.

        Linux only.

        e.g. "Linuxmint"

        '
    - name: system_os_distro_version
      type: STRING
      mode: NULLABLE
      description: 'The Operating System''s distribution''s version, according to
        sysinfo.

        Linux only.

        e.g. "22"

        '
    - name: system_os_locale
      type: STRING
      mode: NULLABLE
      description: 'The Operating System''s local, according to ospreferences.

        e.g. "en-US"

        '
    - name: system_os_name
      type: STRING
      mode: NULLABLE
      description: 'The Operating System''s name, according to sysinfo.

        e.g. "Windows_NT"

        Expected in most cases to be identical to `client_info.os`.

        '
    - name: system_os_version
      type: STRING
      mode: NULLABLE
      description: 'The Operating System''s version, according to sysinfo.

        e.g. "6.3"

        Expected in most cases to be identical to `client_info.os_version`.

        '
    - name: system_win_package_family_name
      type: STRING
      mode: NULLABLE
      description: 'The full application package name without any of the components
        that might change

        during the life cycle of the app (such as the version number or the architecture).

        Uniquely identifies the application within one Windows installation.

        Windows only.

        Only included if it begins with "Mozilla." or "MozillaCorporation.".

        e.g. "Mozilla.Firefox_n80bbvh6b1yt2"

        '
    - name: update_previous_build_id
      type: STRING
      mode: NULLABLE
      description: 'The Firefox build id the browser is updating from.

        Follows the same format as application.buildId.

        Only valid for "update" pings with reason "success".

        '
    - name: update_previous_channel
      type: STRING
      mode: NULLABLE
      description: 'The Firefox channel the profile was on before the update was applied.

        Only valid for "update" pings with reason "success".

        '
    - name: update_previous_version
      type: STRING
      mode: NULLABLE
      description: 'The Firefox version the browser is updating from.

        Follows the same format as application.version.

        Only valid for "update" pings with reason "success".

        '
    - name: update_settings_channel
      type: STRING
      mode: NULLABLE
      description: 'The update channel according to defaults,

        including partner bits.

        e.g. "nightly-cck"

        '
    - name: update_target_build_id
      type: STRING
      mode: NULLABLE
      description: 'The Firefox build id the browser is updating to.

        Follows the same format as application.buildId.

        Only valid for "update" pings with reason "ready".

        '
    - name: update_target_channel
      type: STRING
      mode: NULLABLE
      description: 'The Firefox channel the update was fetched from.

        Only valid for "update" pings with reason "ready".

        '
    - name: update_target_display_version
      type: STRING
      mode: NULLABLE
      description: 'The Firefox display version the browser is updating to.

        This may contain a different value than `update.target_version`,

        e.g. for the Beta channel this field will report the beta suffix

        while `update.target_version` will only report the version number.

        Only valid for "update" pings with reason "ready".

        '
    - name: update_target_version
      type: STRING
      mode: NULLABLE
      description: 'The Firefox version the browser is updating to.

        Follows the same format as application.version.

        Only valid for "update" pings with reason "ready".

        '
    - name: xpcom_abi
      type: STRING
      mode: NULLABLE
      description: "A string tag identifying the binary ABI of the current processor\
        \ and\ncompiler vtable. This is taken from the TARGET_XPCOM_ABI configure\n\
        variable. It may not be available on all platforms, especially\nunusual processor\
        \ or compiler combinations.\n\nThe result takes the form <processor>-<compilerABI>,\
        \ for example:\n  - x86-msvc\n  - ppc-gcc3\n\nThis value should almost always\
        \ be used in combination with the\noperating system.\n"
  - name: string_list
    type: RECORD
    mode: NULLABLE
    fields:
    - name: system_cpu_extensions
      type: STRING
      mode: REPEATED
- name: normalized_app_name
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized app name
- name: normalized_channel
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized channel name
- name: normalized_country_code
  type: STRING
  mode: NULLABLE
  description: An ISO 3166-1 alpha-2 country code
- name: normalized_os
  type: STRING
  mode: NULLABLE
  description: Set to "Other" if this message contained an unrecognized OS name
- name: normalized_os_version
  type: STRING
  mode: NULLABLE
- name: ping_info
  type: RECORD
  mode: NULLABLE
  fields:
  - name: end_time
    type: STRING
    mode: NULLABLE
  - name: experiments
    type: RECORD
    mode: REPEATED
    fields:
    - name: key
      type: STRING
      mode: NULLABLE
    - name: value
      type: RECORD
      mode: NULLABLE
      fields:
      - name: branch
        type: STRING
        mode: NULLABLE
      - name: extra
        type: RECORD
        mode: NULLABLE
        fields:
        - name: enrollment_id
          type: STRING
          mode: NULLABLE
        - name: type
          type: STRING
          mode: NULLABLE
  - name: ping_type
    type: STRING
    mode: NULLABLE
  - name: reason
    type: STRING
    mode: NULLABLE
  - name: seq
    type: INTEGER
    mode: NULLABLE
  - name: start_time
    type: STRING
    mode: NULLABLE
  - name: parsed_start_time
    type: TIMESTAMP
    mode: NULLABLE
  - name: parsed_end_time
    type: TIMESTAMP
    mode: NULLABLE
- name: sample_id
  type: INTEGER
  mode: NULLABLE
  description: Hashed version of client_id (if present) useful for partitioning; ranges
    from 0 to 99
- name: submission_timestamp
  type: TIMESTAMP
  mode: NULLABLE
  description: Time when the ingestion edge server accepted this message
- name: app_version_major
  type: NUMERIC
  mode: NULLABLE
- name: app_version_minor
  type: NUMERIC
  mode: NULLABLE
- name: app_version_patch
  type: NUMERIC
  mode: NULLABLE
- name: is_bot_generated
  type: BOOLEAN
  mode: NULLABLE
