---
event:
  api_version:
  created:
  data: &event_data
    charge:
      amount:
      amount_captured:
      amount_refunded:
      balance_transaction:
      billing_details:
        address:
          postal_code:
      captured:
      created:
      currency:
      customer:
      description:
      dispute:
      disputed:
      failure_code:
      failure_message:
      id:
      invoice:
      metadata:
        key:
        value:
      order:
      outcome:
        network_status:
        reason:
        risk_level:
        risk_score:
        rule:
        seller_message:
        type:
      paid:
      payment_intent:
      payment_method:
      payment_method_details:
        card:
          country:
        card_present:
          country:
        interac_present:
          country:
        type:
      refunded:
      refunds:
        amount:
        balance_transaction:
        charge:
        created:
        currency:
        description:
        failure_balance_transaction:
        failure_reason:
        id:
        metadata:
          key:
          value:
        payment_intent:
        reason:
        receipt_number:
        status:
      status:
    credit_note:
      amount:
      created:
      currency:
      customer:
      customer_balance_transaction:
      discount_amount:
      id:
      invoice:
      lines:
        amount:
        description:
        discount_amount:
        id:
        invoice_line_item:
        invoice_line_item_unique_id:
        quantity:
        tax_amounts:
          amount:
          inclusive:
          tax_rate:
        tax_rates:
          active:
          created:
          country:
          description:
          display_name:
          id:
          inclusive:
          jurisdiction:
          metadata:
            key:
            value:
          percentage:
          state:
          tax_type:
        type:
        unit_amount:
        unit_amount_decimal:
      metadata:
        key:
        value:
      number:
      out_of_band_amount:
      reason:
      refund:
      status:
      subtotal:
      tax_amounts:
        amount:
        inclusive:
        tax_rate:
      total:
      type:
      voided_at:
    customer:
      address:
        country:
        postal_code:
        state:
      created:
      id:
      metadata:
        key:
        value:
    dispute:
      amount:
      balance_transaction:
      balance_transactions:
        amount:
        available_on:
        created:
        currency:
        description:
        exchange_rate:
        fee:
        fee_details:
          amount:
          application:
          currency:
          description:
          type:
        id:
        net:
        reporting_category:
        source:
        status:
        type:
      charge:
      created:
      currency:
      id:
      is_charge_refundable:
      metadata:
        key:
        value:
      payment_intent:
      reason:
      status:
    invoice:
      amount_due:
      amount_paid:
      amount_remaining:
      attempt_count:
      attempted:
      auto_advance:
      billing:
      billing_reason:
      charge:
      collection_method:
      created:
      currency:
      custom_fields:
        name:
        value:
      customer:
      customer_address:
        country:
        postal_code:
        state:
      customer_tax_exempt:
      customer_tax_ids:
        type:
        value:
      description:
      discount:
        checkout_session:
        coupon:
          amount_off:
          applies_to:
            products:
          created:
          currency:
          duration:
          duration_in_months:
          id:
          max_redemptions:
          metadata:
            key:
            value:
          name:
          percent_off:
          redeem_by:
          times_redeemed:
          valid:
        customer:
        end:
        id:
        invoice:
        invoice_item:
        promotion_code:
        start:
        subscription:
      due_date:
      ending_balance:
      id:
      lines:
        amount:
        currency:
        description:
        discountable:
        id:
        invoice_item:
        metadata:
          key:
          value:
        period:
          end:
          start:
        plan:
          active:
          aggregate_usage:
          amount:
          amount_decimal:
          billing_scheme:
          currency:
          id:
          interval:
          interval_count:
          product:
          tiers:
            flat_amount:
            flat_amount_decimal:
            unit_amount:
            unit_amount_decimal:
            up_to:
          tiers_mode:
          transform_usage:
            divide_by:
            round:
          trial_period_days:
          usage_type:
        price:
          active:
          billing_scheme:
          created:
          currency:
          id:
          lookup_key:
          metadata:
            key:
            value:
          nickname:
          product:
          recurring:
            aggregate_usage:
            interval:
            interval_count:
            trial_period_days:
            usage_type:
          tax_behavior:
          tiers:
            flat_amount:
            flat_amount_decimal:
            unit_amount:
            unit_amount_decimal:
            up_to:
          tiers_mode:
          transform_quantity:
            divide_by:
            round:
          type:
          unit_amount:
          unit_amount_decimal:
        proration:
        proration_details:
        quantity:
        subscription:
        subscription_item:
        tax_amounts:
          amount:
          inclusive:
          tax_rate:
        tax_rates:
          active:
          created:
          country:
          description:
          display_name:
          id:
          inclusive:
          jurisdiction:
          metadata:
            key:
            value:
          percentage:
          state:
          tax_type:
        type:
        unique_id:
      metadata:
        key:
        value:
      next_payment_attempt:
      number:
      paid:
      paid_out_of_band:
      payment_intent:
      period_end:
      period_start:
      post_payment_credit_notes_amount:
      pre_payment_credit_notes_amount:
      receipt_number:
      starting_balance:
      statement_descriptor:
      status:
      status_transitions:
        finalized_at:
        marked_uncollectible_at:
        paid_at:
        voided_at:
      subscription:
      subscription_proration_date:
      subtotal:
      threshold_reason:
        amount_gte:
        item_reasons:
          line_item_ids:
          usage_gte:
      total:
      total_discount_amounts:
        amount:
        discount:
      total_tax_amounts:
        amount:
        inclusive:
        tax_rate:
      webhooks_delivered_at:
    payment_intent:
      amount:
      amount_capturable:
      amount_received:
      canceled_at:
      cancellation_reason:
      capture_method:
      confirmation_method:
      created:
      currency:
      customer:
      description:
      id:
      invoice:
      last_payment_error:
        charge:
        code:
      metadata:
        key:
        value:
      next_action:
        type:
      payment_method:
      review:
      setup_future_usage:
      source:
      status:
    payout:
      amount:
      arrival_date:
      automatic:
      balance_transaction:
      created:
      currency:
      description:
      destination:
      failure_balance_transaction:
      failure_code:
      failure_message:
      id:
      metadata:
        key:
        value:
      method:
      source_type:
      statement_descriptor:
      status:
      type:
    plan:
      active:
      aggregate_usage:
      amount:
      amount_decimal:
      billing_scheme:
      created:
      currency:
      id:
      interval:
      interval_count:
      metadata:
        key:
        value:
      nickname:
      product:
      tiers:
        flat_amount:
        flat_amount_decimal:
        unit_amount:
        unit_amount_decimal:
        up_to:
      tiers_mode:
      transform_usage:
        divide_by:
        round:
      trial_period_days:
      usage_type:
    price:
      active:
      billing_scheme:
      created:
      currency:
      id:
      lookup_key:
      metadata:
        key:
        value:
      nickname:
      product:
      recurring:
        aggregate_usage:
        interval:
        interval_count:
        trial_period_days:
        usage_type:
      tax_behavior:
      tiers:
        flat_amount:
        flat_amount_decimal:
        unit_amount:
        unit_amount_decimal:
        up_to:
      tiers_mode:
      transform_quantity:
        divide_by:
        round:
      type:
      unit_amount:
      unit_amount_decimal:
    product:
      active:
      attributes:
      caption:
      created:
      deactive_on:
      description:
      id:
      metadata:
        key:
        value:
      name:
      statement_descriptor:
      tax_code:
      type:
      updated:
    promotion_code:
      active:
      code:
      coupon:
        amount_off:
        currency:
        duration:
        duration_in_months:
        id:
        metadata:
          key:
          value:
        name:
        percent_off:
      created:
      customer:
      expires_at:
      id:
      max_redemptions:
      metadata:
        key:
        value:
      restrictions:
        first_time_transaction:
        minimum_amount:
        minimum_amount_currency:
      times_redeemed:
    setup_intent:
      cancellation_reason:
      created:
      customer:
      description:
      id:
      last_setup_error:
        code:
      latest_attempt:
      mandate:
      metadata:
        key:
        value:
      next_action:
        type:
      payment_method:
      single_use_mandate:
      status:
      usage:
    subscription:
      billing:
      billing_cycle_anchor:
      billing_thresholds:
        amount_gte:
        reset_billing_cycle_anchor:
      cancel_at:
      cancel_at_period_end:
      canceled_at:
      collection_method:
      created:
      current_period_end:
      current_period_start:
      customer:
      days_until_due:
      discount:
        checkout_session:
        coupon:
          amount_off:
          applies_to:
            products:
          created:
          currency:
          duration:
          duration_in_months:
          id:
          max_redemptions:
          metadata:
            key:
            value:
          name:
          percent_off:
          redeem_by:
          times_redeemed:
          valid:
        customer:
        end:
        id:
        invoice:
        invoice_item:
        promotion_code:
        start:
        subscription:
      ended_at:
      id:
      items:
        billing_thresholds:
          usage_gte:
        created:
        id:
        metadata:
          key:
          value:
        plan:
          active:
          aggregate_usage:
          amount:
          amount_decimal:
          billing_scheme:
          created:
          currency:
          id:
          interval:
          interval_count:
          metadata:
            key:
            value:
          nickname:
          product:
          tiers:
            flat_amount:
            flat_amount_decimal:
            unit_amount:
            unit_amount_decimal:
            up_to:
          tiers_mode:
          transform_usage:
            divide_by:
            round:
          trial_period_days:
          usage_type:
        price:
          active:
          billing_scheme:
          created:
          currency:
          id:
          lookup_key:
          metadata:
            key:
            value:
          nickname:
          product:
          recurring:
            aggregate_usage:
            interval:
            interval_count:
            trial_period_days:
            usage_type:
          tax_behavior:
          tiers:
            flat_amount:
            flat_amount_decimal:
            unit_amount:
            unit_amount_decimal:
            up_to:
          tiers_mode:
          transform_quantity:
            divide_by:
            round:
          type:
          unit_amount:
          unit_amount_decimal:
        quantity:
        subscription:
        tax_rates:
          active:
          created:
          country:
          description:
          display_name:
          id:
          inclusive:
          jurisdiction:
          metadata:
            key:
            value:
          percentage:
          state:
          tax_type:
      latest_invoice:
      metadata:
        key:
        value:
      next_pending_invoice_item_invoice:
      pause_collection:
        behavior:
        resumes_at:
      pending_invoice_item_interval:
        interval:
        interval_count:
      pending_setup_intent:
      pending_update:
        billing_cycle_anchor:
        expires_at:
        subscription_items:
          billing_thresholds:
            usage_gte:
          created:
          id:
          metadata:
            key:
            value:
          plan:
            active:
            aggregate_usage:
            amount:
            amount_decimal:
            billing_scheme:
            created:
            currency:
            id:
            interval:
            interval_count:
            metadata:
              key:
              value:
            nickname:
            product:
            tiers:
              flat_amount:
              flat_amount_decimal:
              unit_amount:
              unit_amount_decimal:
              up_to:
            tiers_mode:
            transform_usage:
              divide_by:
              round:
            trial_period_days:
            usage_type:
          price:
            active:
            billing_scheme:
            created:
            currency:
            id:
            lookup_key:
            metadata:
              key:
              value:
            nickname:
            product:
            recurring:
              aggregate_usage:
              interval:
              interval_count:
              trial_period_days:
              usage_type:
            tax_behavior:
            tiers:
              flat_amount:
              flat_amount_decimal:
              unit_amount:
              unit_amount_decimal:
              up_to:
            tiers_mode:
            transform_quantity:
              divide_by:
              round:
            type:
            unit_amount:
            unit_amount_decimal:
          quantity:
          subscription:
          tax_rates:
            active:
            created:
            country:
            description:
            display_name:
            id:
            inclusive:
            jurisdiction:
            metadata:
              key:
              value:
            percentage:
            state:
            tax_type:
        trial_end:
        trial_from_plan:
      plan:
        active:
        aggregate_usage:
        amount:
        amount_decimal:
        billing_scheme:
        created:
        currency:
        id:
        interval:
        interval_count:
        metadata:
          key:
          value:
        nickname:
        product:
        tiers:
          flat_amount:
          flat_amount_decimal:
          unit_amount:
          unit_amount_decimal:
          up_to:
        tiers_mode:
        transform_usage:
          divide_by:
          round:
        trial_period_days:
        usage_type:
      quantity:
      schedule:
      start:
      start_date:
      status:
      transfer_data:
        amount_percent:
        destination:
      trial_end:
      trial_start:
  id:
  request:
    id:
    idempotency_key:
  type:
# allow the same fields in events and outside of them
<<: *event_data
# don't expand lists for these resource types
balance:
card:
payment_method:
radar_early_fraud_warning:
source:
