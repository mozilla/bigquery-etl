friendly_name: Raw Recipient (Acoustic data)

description: >
  Import Raw Recipient file exported from Acoustic (CSV data).
  This includes metrics around email performance (clicks, opens, etc).

  Each partition represents CSV data that was provided Acoustic
  for the date correponding to Airflow's execution date

  Data source: https://developer.goacoustic.com/acoustic-campaign/reference/rawrecipientdataexport
  Jira: https://mozilla-hub.atlassian.net/browse/DENG-17

labels:
  incremental: true

owners:
  - kignasiak@mozilla.com

scheduling:
  dag_name: bqetl_acoustic_raw_recipient_export
  date_partition_parameter: submission_date
  referenced_tables:
    - ['moz-fx-data-marketing-prod', 'acoustic', 'raw_recipient_raw_v1']

bigquery:
  time_partitioning:
    field: submission_date
    type: day
    require_partition_filter: false
  clustering:
    fields:
      - event_type
      - recipient_type
      - body_type
