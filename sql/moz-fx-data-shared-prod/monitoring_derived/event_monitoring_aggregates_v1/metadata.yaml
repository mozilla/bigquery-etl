friendly_name: Event Monitoring Aggregates
description: |-
  Materialized view of experimentation related events
  coming from all Glean apps.
owners:
- ascholtz@mozilla.com
- akomar@mozilla.com
labels:
  incremental: true
  dag: bqetl_monitoring
  owner1: ascholtz
  owner2: akomar
scheduling:
  dag_name: bqetl_monitoring
  arguments:
  - --billing-project
  - moz-fx-data-backfill-3
  depends_on:
  - dag_name: bqetl_materialized_view_refresh
    task_id: firefox_desktop_derived__event_monitoring_live__v1
    execution_delta: -22h45m
bigquery:
  time_partitioning:
    type: day
    field: submission_date
    require_partition_filter: true
    expiration_days: null
  range_partitioning: null
  clustering:
    fields:
    - event_name
    - channel
    - normalized_app_name
workgroup_access:
- role: roles/bigquery.dataViewer
  members:
  - workgroup:mozilla-confidential
references:
  query.sql:
  - moz-fx-data-shared-prod.accounts_backend_stable.events_v1
  - moz-fx-data-shared-prod.accounts_cirrus_stable.events_v1
  - moz-fx-data-shared-prod.accounts_frontend_stable.events_v1
  - moz-fx-data-shared-prod.bedrock_stable.events_v1
  - moz-fx-data-shared-prod.bedrock_stable.interaction_v1
  - moz-fx-data-shared-prod.bedrock_stable.non_interaction_v1
  - moz-fx-data-shared-prod.debug_ping_view_stable.events_v1
  - moz-fx-data-shared-prod.experimenter_cirrus_stable.events_v1
  - moz-fx-data-shared-prod.firefox_crashreporter_stable.events_v1
  - moz-fx-data-shared-prod.firefox_desktop_background_defaultagent_stable.events_v1
  - moz-fx-data-shared-prod.firefox_desktop_background_tasks_stable.background_tasks_v1
  - moz-fx-data-shared-prod.firefox_desktop_background_tasks_stable.events_v1
  - moz-fx-data-shared-prod.firefox_desktop_derived.event_monitoring_live_v1
  - moz-fx-data-shared-prod.glam_stable.events_v1
  - moz-fx-data-shared-prod.glean_dictionary_stable.events_v1
  - moz-fx-data-shared-prod.gleanjs_docs_stable.events_v1
  - moz-fx-data-shared-prod.mdn_fred_stable.events_v1
  - moz-fx-data-shared-prod.mdn_yari_stable.action_v1
  - moz-fx-data-shared-prod.mdn_yari_stable.events_v1
  - moz-fx-data-shared-prod.monitor_backend_stable.events_v1
  - moz-fx-data-shared-prod.monitor_cirrus_stable.events_v1
  - moz-fx-data-shared-prod.monitor_frontend_stable.events_v1
  - moz-fx-data-shared-prod.mozilla_mach_stable.events_v1
  - moz-fx-data-shared-prod.mozillavpn_backend_cirrus_stable.events_v1
  - moz-fx-data-shared-prod.mozillavpn_stable.daemonsession_v1
  - moz-fx-data-shared-prod.mozillavpn_stable.events_v1
  - moz-fx-data-shared-prod.mozillavpn_stable.extensionsession_v1
  - moz-fx-data-shared-prod.mozillavpn_stable.main_v1
  - moz-fx-data-shared-prod.mozillavpn_stable.vpnsession_v1
  - moz-fx-data-shared-prod.mozphab_stable.events_v1
  - moz-fx-data-shared-prod.net_thunderbird_android_beta_stable.events_v1
  - moz-fx-data-shared-prod.net_thunderbird_android_daily_stable.events_v1
  - moz-fx-data-shared-prod.net_thunderbird_android_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_fenix_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_fenix_stable.home_v1
  - moz-fx-data-shared-prod.org_mozilla_fenix_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_beta_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_beta_stable.home_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_beta_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_stable.home_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_vpn_stable.daemonsession_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_vpn_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_vpn_stable.extensionsession_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_vpn_stable.main_v1
  - moz-fx-data-shared-prod.org_mozilla_firefox_vpn_stable.vpnsession_v1
  - moz-fx-data-shared-prod.org_mozilla_focus_beta_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_focus_nightly_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_focus_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_fennec_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_fennec_stable.first_session_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_fennec_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefox_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefox_stable.first_session_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefox_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxbeta_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxbeta_stable.first_session_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxbeta_stable.metrics_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_network_extension_stable.daemonsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_network_extension_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_network_extension_stable.extensionsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_network_extension_stable.main_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_network_extension_stable.vpnsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_stable.daemonsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_stable.extensionsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_stable.main_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_firefoxvpn_stable.vpnsession_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_focus_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_ios_klar_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_klar_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_mozregression_stable.events_v1
  - moz-fx-data-shared-prod.org_mozilla_reference_browser_stable.events_v1
  - moz-fx-data-shared-prod.relay_backend_stable.events_v1
  - moz-fx-data-shared-prod.subscription_platform_backend_stable.events_v1
  - moz-fx-data-shared-prod.syncstorage_stable.events_v1
  - moz-fx-data-shared-prod.thunderbird_desktop_stable.events_v1
require_column_descriptions: false
